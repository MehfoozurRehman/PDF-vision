(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3414:function(){},172:function(){},2001:function(){},3779:function(){},2258:function(){},1860:function(e,t,a){Promise.resolve().then(a.bind(a,3888))},3888:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return tr}});var s=a(7437),l=a(2265),n=a(8771),r=a(4336),i=a(9967),c=a(9581),o=a(8217),d=a(3905),m=a(3910),x=a(2700),u=a(7626);function h(){let{state:e,dispatch:t}=(0,r.l)(),{state:a,dispatch:u}=(0,n.E)(),[h,f]=(0,l.useState)(!1),y=[{id:"thumbnails",label:"Pages",icon:i.Z},{id:"bookmarks",label:"Bookmarks",icon:c.Z},{id:"annotations",label:"Comments",icon:o.Z},{id:"layers",label:"Layers",icon:d.Z}],v=e=>{t({type:"SET_SIDEBAR_TAB",payload:e})};return h?(0,s.jsxs)("div",{className:"w-12 bg-white border-r border-gray-200 flex flex-col",children:[(0,s.jsx)("button",{onClick:()=>f(!1),className:"p-3 hover:bg-gray-50 border-b border-gray-200",title:"Expand Sidebar",children:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-gray-600"})}),y.map(t=>{let a=t.icon;return(0,s.jsx)("button",{onClick:()=>{v(t.id),f(!1)},className:"p-3 hover:bg-gray-50 ".concat(e.sidebarTab===t.id?"bg-primary-50 text-primary-600":"text-gray-600"),title:t.label,children:(0,s.jsx)(a,{className:"w-5 h-5"})},t.id)})]}):(0,s.jsxs)("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[(0,s.jsx)("div",{className:"flex space-x-1",children:y.map(t=>{let a=t.icon;return(0,s.jsxs)("button",{onClick:()=>v(t.id),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(e.sidebarTab===t.id?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,s.jsx)(a,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden lg:inline",children:t.label})]},t.id)})}),(0,s.jsx)("button",{onClick:()=>f(!0),className:"p-1 hover:bg-gray-100 rounded",title:"Collapse Sidebar",children:(0,s.jsx)(x.Z,{className:"w-4 h-4 text-gray-600"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["thumbnails"===e.sidebarTab&&(0,s.jsx)(p,{}),"bookmarks"===e.sidebarTab&&(0,s.jsx)(g,{}),"annotations"===e.sidebarTab&&(0,s.jsx)(b,{}),"layers"===e.sidebarTab&&(0,s.jsx)(j,{})]})]})}function p(){let{state:e,dispatch:t}=(0,n.E)();return e.activeDocument?(0,s.jsx)("div",{className:"p-2",children:(0,s.jsx)("div",{className:"space-y-2",children:e.activeDocument.pages.map((a,l)=>{var n;return(0,s.jsxs)("div",{onClick:()=>t({type:"SET_CURRENT_PAGE",payload:a.pageNumber}),className:"relative cursor-pointer rounded-lg border-2 transition-all ".concat((null===(n=e.activeDocument)||void 0===n?void 0:n.currentPage)===a.pageNumber?"border-primary-500 shadow-md":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"aspect-[3/4] bg-white rounded-lg p-2",children:(0,s.jsx)("div",{className:"w-full h-full bg-gray-100 rounded flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:["Page ",a.pageNumber]})})}),(0,s.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-75 text-white text-xs px-1 rounded",children:a.pageNumber})]},a.id)})})}):(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,s.jsx)(u.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"No document open"})]})}function g(){return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"text-center text-gray-500",children:[(0,s.jsx)(c.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"No bookmarks"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Add bookmarks to navigate quickly"})]})})}function b(){var e;let{state:t}=(0,n.E)(),a=(null===(e=t.activeDocument)||void 0===e?void 0:e.annotations)||[];return(0,s.jsx)("div",{className:"p-4",children:0===a.length?(0,s.jsxs)("div",{className:"text-center text-gray-500",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"No comments"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Add comments and annotations"})]}):(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Page ",e.pageNumber]})]}),e.content&&(0,s.jsx)("p",{className:"text-sm text-gray-700",children:e.content}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["By ",e.author," • ",e.createdAt.toLocaleDateString()]})]},e.id))})})}function j(){return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"text-center text-gray-500",children:[(0,s.jsx)(d.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"No layers"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Organize content with layers"})]})})}var f=a(4355),y=a(6108),v=a(1789),N=a(6217),w=a(9105),k=a(2594),C=a(1272),D=a(7887),P=a(9588),S=a(3393),A=a(5621),F=a(4593),E=a(1988),T=a(9152);function Z(e){let t,a,i,c,d,m,x,{onOpenFile:h,onNewFile:p,onSaveFile:g,onSaveAsFile:b}=e,{state:j,dispatch:Z}=(0,r.l)(),{state:M,dispatch:O}=(0,n.E)(),[R,L]=(0,l.useState)(100),I=e=>{Z({type:"SET_ACTIVE_TOOL",payload:e})};return(0,s.jsxs)("div",{className:"toolbar flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>Z({type:"TOGGLE_SIDEBAR"}),className:"toolbar-button p-2",title:"Toggle Sidebar",children:(0,s.jsx)(f.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),(0,s.jsxs)("button",{onClick:p,className:"toolbar-button flex items-center space-x-1",title:"New PDF (Ctrl+N)",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"New"})]}),(0,s.jsxs)("button",{onClick:h,className:"toolbar-button flex items-center space-x-1",title:"Open PDF (Ctrl+O)",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Open"})]}),(0,s.jsxs)("button",{onClick:g,className:"toolbar-button flex items-center space-x-1",title:"Save (Ctrl+S)",disabled:!M.activeDocument,children:[(0,s.jsx)(N.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Save"})]}),(0,s.jsxs)("button",{onClick:()=>window.print(),className:"toolbar-button flex items-center space-x-1",title:"Print (Ctrl+P)",disabled:!M.activeDocument,children:[(0,s.jsx)(w.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Print"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:()=>I("select"),className:"toolbar-button p-2 ".concat((t="select",j.activeTool===t)?"active":""),title:"Select Tool",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("hand"),className:"toolbar-button p-2 ".concat((a="hand",j.activeTool===a)?"active":""),title:"Hand Tool",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3.5M3 16.5h18"})})}),(0,s.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),(0,s.jsx)("button",{onClick:()=>I("text"),className:"toolbar-button p-2 ".concat((i="text",j.activeTool===i)?"active":""),title:"Text Tool",children:(0,s.jsx)(k.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("highlight"),className:"toolbar-button p-2 ".concat((c="highlight",j.activeTool===c)?"active":""),title:"Highlight Tool",children:(0,s.jsx)(C.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("note"),className:"toolbar-button p-2 ".concat((d="note",j.activeTool===d)?"active":""),title:"Note Tool",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("drawing"),className:"toolbar-button p-2 ".concat((m="drawing",j.activeTool===m)?"active":""),title:"Drawing Tool",children:(0,s.jsx)(D.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("signature"),className:"toolbar-button p-2 ".concat((x="signature",j.activeTool===x)?"active":""),title:"Signature Tool",children:(0,s.jsx)(P.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{className:"toolbar-button p-2",title:"Undo (Ctrl+Z)",disabled:!M.activeDocument,children:(0,s.jsx)(S.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{className:"toolbar-button p-2",title:"Redo (Ctrl+Y)",disabled:!M.activeDocument,children:(0,s.jsx)(A.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),(0,s.jsx)("button",{onClick:()=>{let e=Math.max(25,R-25);L(e),O({type:"SET_ZOOM",payload:e})},className:"toolbar-button p-2",title:"Zoom Out",disabled:!M.activeDocument||R<=25,children:(0,s.jsx)(F.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("input",{type:"range",min:"25",max:"500",step:"25",value:R,onChange:e=>{let t=parseInt(e.target.value);L(t),O({type:"SET_ZOOM",payload:t})},className:"w-20 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:!M.activeDocument}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700 w-12 text-center",children:[R,"%"]})]}),(0,s.jsx)("button",{onClick:()=>{let e=Math.min(500,R+25);L(e),O({type:"SET_ZOOM",payload:e})},className:"toolbar-button p-2",title:"Zoom In",disabled:!M.activeDocument||R>=500,children:(0,s.jsx)(E.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),(0,s.jsx)("button",{onClick:()=>Z({type:"OPEN_MODAL",payload:"settings"}),className:"toolbar-button p-2",title:"Settings",children:(0,s.jsx)(T.Z,{className:"w-5 h-5"})})]})]})}var M=a(1556),O=a(2137),R=a(3836),L=a(1080),I=a(3767),z=a(1351),U=a(8690),_=a(3194),B=a(1994),W=a(3335);function V(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,W.m6)((0,B.W)(t))}let q=l.forwardRef((e,t)=>{let{className:a,variant:l="default",padding:n="md",children:r,...i}=e;return(0,s.jsx)("div",{ref:t,className:V("rounded-xl transition-all duration-200",{default:"bg-white border border-neutral-200 shadow-sm hover:shadow-md",elevated:"bg-white shadow-lg hover:shadow-xl border-0",outlined:"bg-transparent border-2 border-neutral-300 hover:border-neutral-400",filled:"bg-neutral-50 border border-neutral-200"}[l],{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}[n],a),...i,children:r})});q.displayName="Card",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:V("flex flex-col space-y-1.5 pb-4",a),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("h3",{ref:t,className:V("text-lg font-semibold leading-none tracking-tight text-neutral-900",a),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("p",{ref:t,className:V("text-sm text-neutral-600",a),...l})}).displayName="CardDescription",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:V("",a),...l})}).displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:V("flex items-center pt-4",a),...l})}).displayName="CardFooter";var G=a(7165),H=e=>{let{isOpen:t,onClose:a,title:n,description:r,size:i="md",children:c,showCloseButton:o=!0,closeOnOverlayClick:d=!0,closeOnEscape:m=!0,className:x}=e,u=(0,l.useRef)(null),h=(0,l.useRef)(null);return((0,l.useEffect)(()=>{if(!m)return;let e=e=>{"Escape"===e.key&&t&&a()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,a,m]),(0,l.useEffect)(()=>{var e,a;t?(h.current=document.activeElement,null===(e=u.current)||void 0===e||e.focus()):null===(a=h.current)||void 0===a||a.focus()},[t]),(0,l.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:e=>{d&&e.target===e.currentTarget&&a()},"aria-hidden":"true"}),(0,s.jsxs)("div",{ref:u,className:V("relative w-full bg-white rounded-2xl shadow-2xl transform transition-all duration-300 scale-100 opacity-100",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[i],x),role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,"aria-describedby":r?"modal-description":void 0,tabIndex:-1,children:[(n||o)&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex-1",children:[n&&(0,s.jsx)("h2",{id:"modal-title",className:"text-xl font-semibold text-neutral-900",children:n}),r&&(0,s.jsx)("p",{id:"modal-description",className:"mt-1 text-sm text-neutral-600",children:r})]}),o&&(0,s.jsx)("button",{onClick:a,className:"ml-4 p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors duration-200","aria-label":"Close modal",children:(0,s.jsx)(G.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"p-6",children:c})]})]}):null};let K=l.forwardRef((e,t)=>{let{className:a,variant:l="default",size:n="md",rounded:r=!1,children:i,...c}=e;return(0,s.jsx)("span",{ref:t,className:V("inline-flex items-center font-medium transition-colors duration-200",{default:"bg-neutral-100 text-neutral-800 border border-neutral-200",primary:"bg-primary-100 text-primary-800 border border-primary-200",secondary:"bg-neutral-100 text-neutral-700 border border-neutral-300",success:"bg-green-100 text-green-800 border border-green-200",warning:"bg-yellow-100 text-yellow-800 border border-yellow-200",error:"bg-red-100 text-red-800 border border-red-200",info:"bg-blue-100 text-blue-800 border border-blue-200"}[l],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[n],r?"rounded-full":"rounded-md",a),...c,children:i})});K.displayName="Badge";var X=e=>{let{trigger:t,items:a,position:n="bottom-left",className:r,menuClassName:i,disabled:c=!1}=e,[o,d]=(0,l.useState)(!1),m=(0,l.useRef)(null),x=(0,l.useRef)(null),u=()=>{d(!1)},h=e=>{!e.disabled&&e.onClick&&e.onClick(),u()};return(0,l.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&u()};return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o&&u()};return o&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[o]),(0,s.jsxs)("div",{ref:m,className:V("relative inline-block",r),children:[(0,s.jsx)("button",{onClick:()=>{c||d(!o)},disabled:c,className:V("inline-flex items-center justify-center transition-colors duration-200",c?"opacity-50 cursor-not-allowed":"cursor-pointer"),"aria-haspopup":"true","aria-expanded":o,children:t}),o&&(0,s.jsx)("div",{ref:x,className:V("absolute z-50 min-w-48 bg-white border border-neutral-200 rounded-lg shadow-lg py-1","transform transition-all duration-200 scale-100 opacity-100",{"bottom-left":"top-full left-0 mt-2","bottom-right":"top-full right-0 mt-2","top-left":"bottom-full left-0 mb-2","top-right":"bottom-full right-0 mb-2"}[n],i),role:"menu",children:a.map((e,t)=>(0,s.jsxs)(l.Fragment,{children:[e.divider&&t>0&&(0,s.jsx)("div",{className:"border-t border-neutral-200 my-1"}),(0,s.jsxs)("button",{onClick:()=>h(e),disabled:e.disabled,className:V("w-full flex items-center px-4 py-2 text-sm text-left transition-colors duration-150",e.disabled?"text-neutral-400 cursor-not-allowed":"text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900 focus:bg-neutral-50 focus:text-neutral-900 focus:outline-none"),role:"menuitem",children:[e.icon&&(0,s.jsx)("span",{className:"mr-3 flex-shrink-0",children:e.icon}),(0,s.jsx)("span",{className:"flex-1",children:e.label})]})]},e.id))})]})};let Y=(0,l.createContext)(void 0),J=()=>{let e=(0,l.useContext)(Y);if(!e)throw Error("Tabs components must be used within a Tabs provider");return e},Q=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:V("inline-flex h-10 items-center justify-center rounded-lg bg-neutral-100 p-1 text-neutral-500",a),role:"tablist",children:t})},$=e=>{let{value:t,children:a,className:l,disabled:n=!1}=e,{activeTab:r,setActiveTab:i}=J(),c=r===t;return(0,s.jsx)("button",{className:V("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-white transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",c?"bg-white text-neutral-950 shadow-sm":"text-neutral-600 hover:text-neutral-900",l),role:"tab","aria-selected":c,"aria-controls":"tabpanel-".concat(t),disabled:n,onClick:()=>!n&&i(t),children:a})},ee=e=>{let{value:t,children:a,className:l}=e,{activeTab:n}=J();return n!==t?null:(0,s.jsx)("div",{className:V("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",l),role:"tabpanel",id:"tabpanel-".concat(t),tabIndex:0,children:a})};var et=e=>{let{defaultValue:t,children:a,className:n,orientation:r="horizontal"}=e,[i,c]=(0,l.useState)(t);return(0,s.jsx)(Y.Provider,{value:{activeTab:i,setActiveTab:c},children:(0,s.jsx)("div",{className:V("w-full","vertical"===r?"flex":"",n),children:a})})},ea=e=>{let{checked:t,onChange:a,disabled:l=!1,size:n="md",label:r,description:i,className:c}=e,o=()=>{l||a(!t)},d={sm:{switch:"h-4 w-7",thumb:"h-3 w-3",translate:"translate-x-3"},md:{switch:"h-5 w-9",thumb:"h-4 w-4",translate:"translate-x-4"},lg:{switch:"h-6 w-11",thumb:"h-5 w-5",translate:"translate-x-5"}}[n];return(0,s.jsxs)("div",{className:V("flex items-start space-x-3",c),children:[(0,s.jsx)("button",{type:"button",className:V("relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",d.switch,t?"bg-primary-600":"bg-neutral-200",l?"opacity-50 cursor-not-allowed":"cursor-pointer"),role:"switch","aria-checked":t,"aria-disabled":l,onClick:o,disabled:l,children:(0,s.jsx)("span",{className:V("pointer-events-none inline-block rounded-full bg-white shadow transform ring-0 transition duration-200 ease-in-out",d.thumb,t?d.translate:"translate-x-0")})}),(r||i)&&(0,s.jsxs)("div",{className:"flex-1",children:[r&&(0,s.jsx)("label",{className:V("text-sm font-medium cursor-pointer",l?"text-neutral-400":"text-neutral-900"),onClick:o,children:r}),i&&(0,s.jsx)("p",{className:V("text-sm",l?"text-neutral-300":"text-neutral-500"),children:i})]})]})},es=e=>{let{value:t,onChange:a,min:n=0,max:r=100,step:i=1,disabled:c=!1,label:o,showValue:d=!1,className:m}=e,[x,u]=(0,l.useState)(!1),h=(0,l.useRef)(null),p=(t-n)/(r-n)*100,g=(0,l.useCallback)(e=>{if(!h.current||c)return;let t=h.current.getBoundingClientRect(),s=Math.round((n+Math.max(0,Math.min(1,(e-t.left)/t.width))*(r-n))/i)*i;a(Math.max(n,Math.min(r,s)))},[n,r,i,a,c]),b=(0,l.useCallback)(e=>{x&&g(e.clientX)},[x,g]),j=(0,l.useCallback)(()=>{u(!1)},[]);return l.useEffect(()=>(x&&(document.addEventListener("mousemove",b),document.addEventListener("mouseup",j)),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",j)}),[x,b,j]),(0,s.jsxs)("div",{className:V("w-full",m),children:[(o||d)&&(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[o&&(0,s.jsx)("label",{className:V("text-sm font-medium",c?"text-neutral-400":"text-neutral-700"),children:o}),d&&(0,s.jsx)("span",{className:V("text-sm",c?"text-neutral-400":"text-neutral-500"),children:t})]}),(0,s.jsxs)("div",{ref:h,className:V("relative h-2 bg-neutral-200 rounded-full cursor-pointer",c&&"cursor-not-allowed opacity-50"),onMouseDown:e=>{c||(u(!0),g(e.clientX))},role:"slider","aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":t,"aria-disabled":c,tabIndex:c?-1:0,onKeyDown:e=>{if(c)return;let s=t;switch(e.key){case"ArrowLeft":case"ArrowDown":s=Math.max(n,t-i);break;case"ArrowRight":case"ArrowUp":s=Math.min(r,t+i);break;case"Home":s=n;break;case"End":s=r;break;default:return}e.preventDefault(),a(s)},children:[(0,s.jsx)("div",{className:"absolute h-full bg-primary-600 rounded-full transition-all duration-150",style:{width:"".concat(p,"%")}}),(0,s.jsx)("div",{className:V("absolute top-1/2 w-5 h-5 bg-white border-2 border-primary-600 rounded-full shadow-md transform -translate-y-1/2 transition-all duration-150","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",x?"scale-110":"hover:scale-105",c&&"border-neutral-400"),style:{left:"calc(".concat(p,"% - 10px)")}})]})]})},el=a(2548),en=a(2484),er=a(9399),ei=a(8931),ec=a(7233),eo=a(3877),ed=a(322);function em(e){let{isOpen:t,onClose:a,documentName:n,documentId:r}=e,[i,c]=(0,l.useState)("link"),[o,d]=(0,l.useState)({allowDownload:!0,allowPrint:!0,allowCopy:!1,requirePassword:!1,password:"",expirationDate:"",accessLevel:"view",trackViews:!0,watermark:!1}),[m,x]=(0,l.useState)([]),[u,h]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[b,j]=(0,l.useState)(!1),f=()=>{let e=window.location.origin,t=new URLSearchParams({doc:r,access:o.accessLevel,...o.requirePassword&&{protected:"true"},...o.expirationDate&&{expires:o.expirationDate}});return"".concat(e,"/shared?").concat(t.toString())},y=async()=>{let e=f();g(e);try{await navigator.clipboard.writeText(e),j(!0),setTimeout(()=>j(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},v=()=>{u.trim()&&(x([...m,{id:Date.now().toString(),email:u,name:u.split("@")[0],accessLevel:o.accessLevel,status:"pending",addedAt:new Date}]),h(""))},N=e=>{x(m.filter(t=>t.id!==e))},w=(e,t)=>{x(m.map(a=>a.id===e?{...a,accessLevel:t}:a))},C={view:el.Z,comment:I.Z,edit:k.Z};return(0,s.jsx)(H,{isOpen:t,onClose:a,title:"Share Document",description:'Share "'.concat(n,'" with others'),size:"lg",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(et,{defaultValue:"link",children:[(0,s.jsxs)(Q,{className:"grid w-full grid-cols-3",children:[(0,s.jsxs)($,{value:"link",className:"flex items-center space-x-2",children:[(0,s.jsx)(en.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Share Link"})]}),(0,s.jsxs)($,{value:"email",className:"flex items-center space-x-2",children:[(0,s.jsx)(er.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Email Invite"})]}),(0,s.jsxs)($,{value:"collaborators",className:"flex items-center space-x-2",children:[(0,s.jsx)(ei.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Collaborators"})]})]}),(0,s.jsx)(ee,{value:"link",className:"space-y-4",children:(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Shareable Link"}),(0,s.jsxs)(K,{variant:"primary",size:"sm",children:[(0,s.jsx)(U.Z,{className:"w-3 h-3 mr-1"}),"Secure"]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:p||f(),readOnly:!0,className:"input flex-1",placeholder:"Click 'Copy Link' to generate"}),(0,s.jsx)("button",{onClick:y,className:V("btn px-4 py-2 transition-all duration-200",b?"btn-success":"btn-primary"),children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ec.Z,{className:"w-4 h-4 mr-2"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.Z,{className:"w-4 h-4 mr-2"}),"Copy Link"]})})]})]})})}),(0,s.jsx)(ee,{value:"email",className:"space-y-4",children:(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Invite by Email"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"email",value:u,onChange:e=>h(e.target.value),placeholder:"Enter email address",className:"input flex-1",onKeyPress:e=>"Enter"===e.key&&v()}),(0,s.jsxs)("button",{onClick:v,className:"btn btn-primary",disabled:!u.trim(),children:[(0,s.jsx)(er.Z,{className:"w-4 h-4 mr-2"}),"Send Invite"]})]})]})})}),(0,s.jsx)(ee,{value:"collaborators",className:"space-y-4",children:(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold",children:["Collaborators (",m.length,")"]}),0===m.length?(0,s.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,s.jsx)(ei.Z,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,s.jsx)("p",{children:"No collaborators yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Use the Email tab to invite people"})]}):(0,s.jsx)("div",{className:"space-y-3",children:m.map(e=>(C[e.accessLevel],(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-primary-700",children:e.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-neutral-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:e.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(K,{variant:"accepted"===e.status?"success":"warning",size:"sm",children:e.status}),(0,s.jsxs)("select",{value:e.accessLevel,onChange:t=>w(e.id,t.target.value),className:"input input-sm w-24",children:[(0,s.jsx)("option",{value:"view",children:"View"}),(0,s.jsx)("option",{value:"comment",children:"Comment"}),(0,s.jsx)("option",{value:"edit",children:"Edit"})]}),(0,s.jsx)("button",{onClick:()=>N(e.id),className:"text-red-500 hover:text-red-700 p-1",children:"\xd7"})]})]},e.id)))})]})})})]}),(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,s.jsx)(U.Z,{className:"w-5 h-5 mr-2"}),"Security & Permissions"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ea,{checked:o.allowDownload,onChange:e=>d({...o,allowDownload:e}),label:"Allow Download",description:"Recipients can download the PDF"}),(0,s.jsx)(ea,{checked:o.allowPrint,onChange:e=>d({...o,allowPrint:e}),label:"Allow Printing",description:"Recipients can print the document"}),(0,s.jsx)(ea,{checked:o.allowCopy,onChange:e=>d({...o,allowCopy:e}),label:"Allow Text Copy",description:"Recipients can copy text content"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ea,{checked:o.requirePassword,onChange:e=>d({...o,requirePassword:e}),label:"Password Protection",description:"Require password to access"}),o.requirePassword&&(0,s.jsx)("input",{type:"password",value:o.password,onChange:e=>d({...o,password:e.target.value}),placeholder:"Enter password",className:"input"}),(0,s.jsx)(ea,{checked:o.trackViews,onChange:e=>d({...o,trackViews:e}),label:"Track Views",description:"Monitor who views the document"}),(0,s.jsx)(ea,{checked:o.watermark,onChange:e=>d({...o,watermark:e}),label:"Add Watermark",description:"Add watermark to shared document"})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-neutral-200",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(ed.Z,{className:"w-4 h-4 inline mr-1"}),"Link Expiration (Optional)"]}),(0,s.jsx)("input",{type:"datetime-local",value:o.expirationDate,onChange:e=>d({...o,expirationDate:e.target.value}),className:"input",min:new Date().toISOString().slice(0,16)})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[(0,s.jsx)("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{onClick:a,className:"btn btn-primary",children:"Share Document"})]})]})})}let ex={A4:{width:210,height:297,unit:"mm"},A3:{width:297,height:420,unit:"mm"},Letter:{width:8.5,height:11,unit:"in"},Legal:{width:8.5,height:14,unit:"in"},Tabloid:{width:11,height:17,unit:"in"}},eu={draft:{dpi:150,description:"Fast, lower quality"},normal:{dpi:300,description:"Balanced quality and speed"},high:{dpi:600,description:"High quality, slower"},maximum:{dpi:1200,description:"Maximum quality, slowest"}};function eh(e){let{isOpen:t,onClose:a,documentName:n,totalPages:r,onPrint:c}=e,[o,m]=(0,l.useState)({pageRange:"all",customPages:"",copies:1,orientation:"portrait",paperSize:"A4",scaling:"fit",customScale:100,margins:"normal",quality:"normal",colorMode:"color",duplex:"none",collate:!0,includeAnnotations:!0,includeComments:!1,watermark:!1,watermarkText:"CONFIDENTIAL",headers:!1,footers:!1,pageNumbers:!0}),[x,h]=(0,l.useState)("basic"),[p,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)(0),[v,N]=(0,l.useState)(""),[k,C]=(0,l.useState)(null),[D,P]=(0,l.useState)({}),S=(0,l.useRef)(null),A=(0,l.useRef)(null),F=(0,l.useRef)(null),E=(0,l.useRef)(null),Z=(e,t)=>{m(a=>({...a,[e]:t})),D[e]&&P(t=>{let a={...t};return delete a[e],a})},M=(0,l.useCallback)(e=>{let{key:t,target:a,shiftKey:s}=e;if("Tab"===t){var l;let t=null===(l=S.current)||void 0===l?void 0:l.querySelectorAll('button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])');if(!t||0===t.length)return;let n=t[0],r=t[t.length-1];s&&a===n?(e.preventDefault(),r.focus()):s||a!==r||(e.preventDefault(),n.focus())}if(("ArrowUp"===t||"ArrowDown"===t)&&"radio"===a.getAttribute("role")){let s;e.preventDefault();let l=a.closest('[role="radiogroup"]');if(!l)return;let n=Array.from(l.querySelectorAll('[role="radio"]')),r=n.indexOf(a);s="ArrowUp"===t?r>0?r-1:n.length-1:r<n.length-1?r+1:0,n[s].focus(),n[s].click()}("Enter"===t||" "===t)&&"BUTTON"===a.tagName&&(e.preventDefault(),a.click()),"Escape"===t&&(e.preventDefault(),R())},[a]);(0,l.useEffect)(()=>{if(!t)return;E.current=document.activeElement;let e=setTimeout(()=>{var e;let t=null===(e=S.current)||void 0===e?void 0:e.querySelectorAll('button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])');t&&t.length>0&&t[0].focus()},100);return()=>{clearTimeout(e),E.current&&E.current.focus()}},[t]);let O=(0,l.useCallback)(e=>{var t;if("Tab"!==e.key)return;let a=null===(t=S.current)||void 0===t?void 0:t.querySelectorAll('button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])');if(!a||0===a.length)return;let s=a[0],l=a[a.length-1],n=document.activeElement;e.shiftKey?n===s&&(e.preventDefault(),l.focus()):n===l&&(e.preventDefault(),s.focus())},[]),R=(0,l.useCallback)(()=>{E.current&&E.current.focus(),a()},[a]),L=e=>{if(!e.trim()||!/^\d+(-\d+)?(,\s*\d+(-\d+)?)*$/.test(e.trim()))return!1;for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,a]=e.split("-").map(e=>parseInt(e.trim()));if(isNaN(t)||isNaN(a)||t<1||a>r||t>a)return!1}else{let t=parseInt(e);if(isNaN(t)||t<1||t>r)return!1}}return!0},I=()=>{switch(o.pageRange){case"all":return r;case"current":return 1;case"custom":{if(!L(o.customPages))return 0;let e=o.customPages.split(","),t=0;for(let a of e){let e=a.trim();if(e.includes("-")){let[a,s]=e.split("-").map(e=>parseInt(e.trim()));t+=Math.max(0,s-a+1)}else t+=1}return t}default:return 0}},z=()=>Math.ceil(I()/("none"===o.duplex?1:2))*o.copies,U=async()=>{try{j(!0),C(null),y(0),N("Preparing print job...");let e=_(o);if(Object.keys(e).length>0){P(e);return}if("custom"===o.pageRange&&!L(o.customPages)){C({type:"validation",message:"Invalid page range. Please check your input.",field:"customPages"});return}for(let e of[{progress:20,message:"Validating print settings..."},{progress:40,message:"Processing document..."},{progress:60,message:"Applying print options..."},{progress:80,message:"Sending to printer..."},{progress:100,message:"Print job completed!"}])y(e.progress),N(e.message),await new Promise(e=>setTimeout(e,300));await c(o),a()}catch(e){C({type:"print",message:e instanceof Error?e.message:"An error occurred while printing"})}finally{j(!1),y(0),N("")}},_=e=>{let t={};return"custom"!==e.pageRange||e.customPages.trim()||(t.customPages="Please specify a page range"),(e.copies<1||e.copies>999)&&(t.copies="Number of copies must be between 1 and 999"),(e.customScale<25||e.customScale>400)&&(t.customScale="Scale must be between 25% and 400%"),t},B=[{id:"basic",label:"Basic",icon:u.Z},{id:"layout",label:"Layout",icon:d.Z},{id:"quality",label:"Quality",icon:i.Z},{id:"advanced",label:"Advanced",icon:T.Z}];return(0,s.jsx)(H,{isOpen:t,onClose:a,title:"Print Settings",description:'Configure print settings for "'.concat(n,'"'),size:"xl",children:(0,s.jsxs)("div",{ref:S,onKeyDown:e=>{M(e),O(e)},className:"focus:outline-none space-y-6 relative",tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"print-modal-title","aria-describedby":"print-modal-description",children:[b&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg border max-w-sm w-full mx-4",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Printing Document"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:v}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(f,"%")},role:"progressbar","aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Print progress: ".concat(f,"%")})}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[f,"% complete"]})]})]})})}),k&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",role:"alert",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400","aria-hidden":"true",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Print Error"}),(0,s.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,s.jsx)("p",{children:k.message})})]})]})}),(0,s.jsx)("div",{className:"border-b border-neutral-200",children:(0,s.jsx)("nav",{className:"flex space-x-8",role:"tablist","aria-label":"Print settings tabs",children:B.map(e=>{let t=e.icon;return(0,s.jsxs)("button",{onClick:()=>h(e.id),onKeyDown:e=>{if("ArrowLeft"===e.key||"ArrowRight"===e.key){let t;e.preventDefault();let a=["basic","layout","quality","advanced"],s=a.indexOf(x);t="ArrowLeft"===e.key?s>0?s-1:a.length-1:s<a.length-1?s+1:0,h(a[t]),setTimeout(()=>{let e=document.querySelector('[aria-controls="'.concat(a[t],'-panel"]'));null==e||e.focus()},0)}},role:"tab","aria-selected":x===e.id,"aria-controls":"".concat(e.id,"-panel"),tabIndex:x===e.id?0:-1,className:V("flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",x===e.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,s.jsx)(t,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.label})]},e.id)})})}),(0,s.jsxs)("div",{className:"min-h-[400px]",role:"tabpanel",id:"".concat(x,"-panel"),"aria-labelledby":"".concat(x,"-tab"),children:["basic"===x&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Page Selection"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"all",checked:"all"===o.pageRange,onChange:e=>Z("pageRange",e.target.value),className:"form-radio"}),(0,s.jsxs)("span",{children:["All pages (",r," pages)"]})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"current",checked:"current"===o.pageRange,onChange:e=>Z("pageRange",e.target.value),className:"form-radio"}),(0,s.jsx)("span",{children:"Current page"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"custom",checked:"custom"===o.pageRange,onChange:e=>Z("pageRange",e.target.value),className:"form-radio"}),(0,s.jsx)("span",{children:"Custom range"})]}),"custom"===o.pageRange&&(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("input",{type:"text",value:o.customPages,onChange:e=>Z("customPages",e.target.value),placeholder:"e.g., 1-3, 5, 8-10",className:V("input",o.customPages&&!L(o.customPages)?"border-red-300 focus:border-red-500":"")}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Enter page numbers and ranges (e.g., 1-3, 5, 8-10)"})]})]})]})}),(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Copies & Collation"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Number of copies"}),(0,s.jsx)("input",{type:"number",min:"1",max:"999",value:o.copies,onChange:e=>Z("copies",parseInt(e.target.value)||1),className:"input"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)(ea,{checked:o.collate,onChange:e=>Z("collate",e),label:"Collate copies",description:"Print complete sets"})})]})]})})]}),"layout"===x&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Paper & Orientation"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Paper size"}),(0,s.jsx)("select",{value:o.paperSize,onChange:e=>Z("paperSize",e.target.value),className:"input",children:Object.entries(ex).map(e=>{let[t,a]=e;return(0,s.jsxs)("option",{value:t,children:[t," (",a.width," \xd7 ",a.height," ",a.unit,")"]},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Orientation"}),(0,s.jsxs)("select",{value:o.orientation,onChange:e=>Z("orientation",e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"portrait",children:"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:"Landscape"})]})]})]})]})}),(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Scaling & Margins"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Scaling"}),(0,s.jsxs)("select",{value:o.scaling,onChange:e=>Z("scaling",e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"fit",children:"Fit to page"}),(0,s.jsx)("option",{value:"actual",children:"Actual size"}),(0,s.jsx)("option",{value:"custom",children:"Custom scale"})]}),"custom"===o.scaling&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(es,{value:o.customScale,onChange:e=>Z("customScale",e),min:25,max:400,step:5,label:"Custom scale",showValue:!0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Margins"}),(0,s.jsxs)("select",{value:o.margins,onChange:e=>Z("margins",e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"none",children:"None"}),(0,s.jsx)("option",{value:"minimum",children:"Minimum"}),(0,s.jsx)("option",{value:"normal",children:"Normal"}),(0,s.jsx)("option",{value:"maximum",children:"Maximum"})]})]})]})]})})]}),"quality"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Print Quality"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Quality level"}),(0,s.jsx)("select",{value:o.quality,onChange:e=>Z("quality",e.target.value),className:"input",children:Object.entries(eu).map(e=>{let[t,a]=e;return(0,s.jsxs)("option",{value:t,children:[t.charAt(0).toUpperCase()+t.slice(1)," (",a.dpi," DPI) - ",a.description]},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color mode"}),(0,s.jsxs)("select",{value:o.colorMode,onChange:e=>Z("colorMode",e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"color",children:"Color"}),(0,s.jsx)("option",{value:"grayscale",children:"Grayscale"}),(0,s.jsx)("option",{value:"blackwhite",children:"Black & White"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Duplex printing"}),(0,s.jsxs)("select",{value:o.duplex,onChange:e=>Z("duplex",e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"none",children:"Single-sided"}),(0,s.jsx)("option",{value:"long",children:"Double-sided (flip on long edge)"}),(0,s.jsx)("option",{value:"short",children:"Double-sided (flip on short edge)"})]})]})]})]})})}),"advanced"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(q,{padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Content Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ea,{checked:o.includeAnnotations,onChange:e=>Z("includeAnnotations",e),label:"Include annotations",description:"Print highlights and markups"}),(0,s.jsx)(ea,{checked:o.includeComments,onChange:e=>Z("includeComments",e),label:"Include comments",description:"Print comment bubbles"}),(0,s.jsx)(ea,{checked:o.pageNumbers,onChange:e=>Z("pageNumbers",e),label:"Page numbers",description:"Add page numbers to print"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ea,{checked:o.headers,onChange:e=>Z("headers",e),label:"Headers",description:"Include document title in header"}),(0,s.jsx)(ea,{checked:o.footers,onChange:e=>Z("footers",e),label:"Footers",description:"Include date and filename"}),(0,s.jsx)(ea,{checked:o.watermark,onChange:e=>Z("watermark",e),label:"Watermark",description:"Add watermark to pages"})]})]}),o.watermark&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Watermark text"}),(0,s.jsx)("input",{type:"text",value:o.watermarkText,onChange:e=>Z("watermarkText",e.target.value),placeholder:"Enter watermark text",className:"input"})]})]})})})]}),(0,s.jsx)(q,{padding:"lg",variant:"filled",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-neutral-900",children:"Print Summary"}),(0,s.jsxs)("p",{className:"text-sm text-neutral-600",children:[I()," pages \xd7 ",o.copies," copies = ",z()," sheets"]}),(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:["Quality: ",eu[o.quality].dpi," DPI • Color: ",o.colorMode," • Paper: ",o.paperSize]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:z()}),(0,s.jsx)("div",{className:"text-sm text-neutral-500",children:"sheets"})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[(0,s.jsx)("button",{ref:A,onClick:R,className:"btn btn-ghost focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":"Cancel printing",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),R())},children:"Cancel"}),(0,s.jsx)("button",{ref:F,onClick:U,className:"btn btn-primary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center min-w-[140px]",disabled:b||"custom"===o.pageRange&&!L(o.customPages),"aria-label":b?"Printing document...":"Print document",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),b||"custom"===o.pageRange&&!L(o.customPages)||U())},children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Printing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Print Document"]})})]})]})})}var ep=a(338),eg=a(4610),eb=a(3365),ej=a(8894);function ef(e){let{comments:t,currentUser:a,onAddComment:n,onUpdateComment:r,onDeleteComment:i,onReplyToComment:c,onUpdateReply:o,onDeleteReply:d,onLikeComment:m,onLikeReply:x,onResolveComment:u,onChangeCommentStatus:h,selectedCommentId:p,onSelectComment:g}=e,[b,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)({content:"",position:{page:1,x:0,y:0},priority:"medium",tags:[]}),[v,N]=(0,l.useState)(null),[w,k]=(0,l.useState)(""),[C,D]=(0,l.useState)("all"),[P,A]=(0,l.useState)("newest"),[F,E]=(0,l.useState)(""),T=(0,l.useRef)(null),Z=(0,l.useRef)(null);(0,l.useEffect)(()=>{b&&T.current&&T.current.focus()},[b]),(0,l.useEffect)(()=>{v&&Z.current&&Z.current.focus()},[v]);let M=t.filter(e=>{if("all"!==C&&e.status!==C)return!1;if(F){let t=F.toLowerCase();return e.content.toLowerCase().includes(t)||e.author.name.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))}return!0}).sort((e,t)=>{switch(P){case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"priority":let a={high:3,medium:2,low:1};return a[t.priority]-a[e.priority];default:return 0}}),O=e=>{w.trim()&&(c(e,{content:w,author:a}),k(""),N(null))},L=e=>{let t=new Date().getTime()-e.getTime(),a=Math.floor(t/6e4),s=Math.floor(t/36e5),l=Math.floor(t/864e5);return a<1?"Just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):l<7?"".concat(l,"d ago"):e.toLocaleDateString()},z=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800"}},U=e=>{switch(e){case"open":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"archived":return"bg-gray-100 text-gray-800"}},_=e=>{let{comment:t}=e,[n,i]=(0,l.useState)(t.content),c=t.likes.includes(a.id),o=p===t.id;return t.author.id,a.id,t.author.id,a.id,(0,s.jsx)(q,{className:V("transition-all duration-200 cursor-pointer hover:shadow-md",o&&"ring-2 ring-primary-500 shadow-lg"),onClick:()=>g(o?void 0:t.id),padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:t.author.avatar?(0,s.jsx)("img",{src:t.author.avatar,alt:t.author.name,className:"w-8 h-8 rounded-full"}):(0,s.jsx)(ep.Z,{className:"w-4 h-4 text-primary-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-neutral-900",children:t.author.name}),(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:["Page ",t.position.page," • ",L(t.createdAt),t.updatedAt&&" (edited)"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(K,{size:"sm",className:z(t.priority),children:t.priority}),(0,s.jsx)(K,{size:"sm",className:U(t.status),children:t.status}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded",children:(0,s.jsx)(eg.Z,{className:"w-4 h-4"})})})]})]}),(0,s.jsxs)("div",{className:"pl-11",children:[t.isEditing?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),className:"input w-full h-20 resize-none",placeholder:"Edit your comment..."}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>r(t.id,t.content),className:"btn btn-secondary btn-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>r(t.id,n),className:"btn btn-primary btn-sm",children:"Save"})]})]}):(0,s.jsx)("p",{className:"text-neutral-700 whitespace-pre-wrap",children:t.content}),t.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map((e,t)=>(0,s.jsxs)(K,{variant:"secondary",size:"sm",children:["#",e]},t))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pl-11",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),m(t.id)},className:V("flex items-center space-x-1 text-sm transition-colors",c?"text-red-500":"text-neutral-500 hover:text-red-500"),children:[c?(0,s.jsx)(ej.Z,{className:"w-4 h-4"}):(0,s.jsx)(eb.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t.likes.length})]}),(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),N(t.id)},className:"flex items-center space-x-1 text-sm text-neutral-500 hover:text-primary-500 transition-colors",children:[(0,s.jsx)(S.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Reply"})]})]}),t.replies.length>0&&(0,s.jsxs)("span",{className:"text-sm text-neutral-500",children:[t.replies.length," ",1===t.replies.length?"reply":"replies"]})]}),v===t.id&&(0,s.jsxs)("div",{className:"pl-11 space-y-2",children:[(0,s.jsx)("textarea",{ref:Z,value:w,onChange:e=>k(e.target.value),className:"input w-full h-20 resize-none",placeholder:"Write a reply..."}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{N(null),k("")},className:"btn btn-secondary btn-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>O(t.id),className:"btn btn-primary btn-sm",disabled:!w.trim(),children:"Reply"})]})]}),t.replies.length>0&&(0,s.jsx)("div",{className:"pl-11 space-y-3 border-l-2 border-neutral-100 ml-5",children:t.replies.map(e=>{let l=e.likes.includes(a.id),n=e.author.id===a.id;return(0,s.jsxs)("div",{className:"pl-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center",children:e.author.avatar?(0,s.jsx)("img",{src:e.author.avatar,alt:e.author.name,className:"w-6 h-6 rounded-full"}):(0,s.jsx)(ep.Z,{className:"w-3 h-3 text-primary-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.author.name}),(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:[L(e.createdAt),e.updatedAt&&" (edited)"]})]})]}),n&&(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded",children:(0,s.jsx)(eg.Z,{className:"w-3 h-3"})})})]}),(0,s.jsx)("p",{className:"text-sm text-neutral-700 pl-8",children:e.content}),(0,s.jsx)("div",{className:"flex items-center pl-8",children:(0,s.jsxs)("button",{onClick:()=>x(t.id,e.id),className:V("flex items-center space-x-1 text-xs transition-colors",l?"text-red-500":"text-neutral-500 hover:text-red-500"),children:[l?(0,s.jsx)(ej.Z,{className:"w-3 h-3"}):(0,s.jsx)(eb.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:e.likes.length})]})})]},e.id)})})]})})};return(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold flex items-center",children:[(0,s.jsx)(I.Z,{className:"w-5 h-5 mr-2"}),"Comments (",M.length,")"]}),(0,s.jsxs)("button",{onClick:()=>j(!0),className:"btn btn-primary btn-sm",children:[(0,s.jsx)(R.Z,{className:"w-4 h-4 mr-1"}),"Add Comment"]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{type:"text",value:F,onChange:e=>E(e.target.value),placeholder:"Search comments...",className:"input input-sm w-full"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("select",{value:C,onChange:e=>D(e.target.value),className:"input input-sm flex-1",children:[(0,s.jsx)("option",{value:"all",children:"All Comments"}),(0,s.jsx)("option",{value:"open",children:"Open"}),(0,s.jsx)("option",{value:"resolved",children:"Resolved"}),(0,s.jsx)("option",{value:"archived",children:"Archived"})]}),(0,s.jsxs)("select",{value:P,onChange:e=>A(e.target.value),className:"input input-sm flex-1",children:[(0,s.jsx)("option",{value:"newest",children:"Newest First"}),(0,s.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,s.jsx)("option",{value:"priority",children:"By Priority"})]})]})]})]}),b&&(0,s.jsx)("div",{className:"p-4 border-b border-neutral-200 bg-neutral-50",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("textarea",{ref:T,value:f.content,onChange:e=>y({...f,content:e.target.value}),className:"input w-full h-24 resize-none",placeholder:"Write your comment..."}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsxs)("select",{value:f.priority,onChange:e=>y({...f,priority:e.target.value}),className:"input input-sm",children:[(0,s.jsx)("option",{value:"low",children:"Low Priority"}),(0,s.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,s.jsx)("option",{value:"high",children:"High Priority"})]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{j(!1),y({content:"",position:{page:1,x:0,y:0},priority:"medium",tags:[]})},className:"btn btn-secondary btn-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{f.content.trim()&&(n({content:f.content,author:a,position:f.position,status:"open",priority:f.priority,tags:f.tags}),y({content:"",position:{page:1,x:0,y:0},priority:"medium",tags:[]}),j(!1))},className:"btn btn-primary btn-sm",disabled:!f.content.trim(),children:"Add Comment"})]})]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===M.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(I.Z,{className:"w-12 h-12 mx-auto text-neutral-300 mb-4"}),(0,s.jsx)("p",{className:"text-neutral-500",children:F?"No comments match your search":"No comments yet"}),(0,s.jsx)("p",{className:"text-sm text-neutral-400",children:F?"Try adjusting your search terms":"Be the first to add a comment"})]}):M.map(e=>(0,s.jsx)(_,{comment:e},e.id))})]})}var ey=a(8892),ev=a(6977),eN=a(4730);let ew=["Arial","Helvetica","Times New Roman","Courier New","Verdana","Georgia"],ek=[8,10,12,14,16,18,20,24,28,36,48],eC=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080"];var eD=e=>{let{isVisible:t,onClose:a,onAddText:n,onUpdateText:r,onDeleteText:i,textElements:c,canvasWidth:o,canvasHeight:d}=e,[m,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),[b,j]=(0,l.useState)({family:"Arial",size:14,weight:"normal",style:"normal",decoration:"none",align:"left",color:"#000000"}),f=(0,l.useRef)(null);(0,l.useEffect)(()=>{u&&f.current&&f.current.focus()},[u]);let y=(e,t,a)=>{r(e,{[t]:a})},v=c.find(e=>e.id===m);return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)(q,{className:"w-full max-w-6xl h-5/6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Text Editor"}),(0,s.jsx)("button",{onClick:a,className:"btn btn-ghost btn-sm text-neutral-500 hover:text-neutral-700",children:(0,s.jsx)(G.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)("div",{className:"w-80 border-r border-neutral-200 p-4 overflow-y-auto",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("button",{onClick:()=>h(!u),className:"btn w-full ".concat(u?"btn-primary":"btn-secondary"),children:[(0,s.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),u?"Click to Place Text":"Add Text"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-medium text-neutral-900",children:"Font Settings"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Font Family"}),(0,s.jsx)("select",{value:(null==v?void 0:v.fontFamily)||b.family,onChange:e=>{let t=e.target.value;j(e=>({...e,family:t})),v&&y(v.id,"fontFamily",t)},className:"input w-full",children:ew.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Font Size"}),(0,s.jsx)("select",{value:(null==v?void 0:v.fontSize)||b.size,onChange:e=>{let t=parseInt(e.target.value);j(e=>({...e,size:t})),v&&y(v.id,"fontSize",t)},className:"input w-full",children:ek.map(e=>(0,s.jsxs)("option",{value:e,children:[e,"px"]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Font Style"}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("button",{className:"btn btn-sm ".concat("bold"===((null==v?void 0:v.fontWeight)||b.weight)?"btn-primary":"btn-secondary"),onClick:()=>{let e="bold"===((null==v?void 0:v.fontWeight)||b.weight)?"normal":"bold";j(t=>({...t,weight:e})),v&&y(v.id,"fontWeight",e)},children:(0,s.jsx)(ey.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"btn btn-sm ".concat("italic"===((null==v?void 0:v.fontStyle)||b.style)?"btn-primary":"btn-secondary"),onClick:()=>{let e="italic"===((null==v?void 0:v.fontStyle)||b.style)?"normal":"italic";j(t=>({...t,style:e})),v&&y(v.id,"fontStyle",e)},children:(0,s.jsx)(ev.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"btn btn-sm ".concat("underline"===((null==v?void 0:v.textDecoration)||b.decoration)?"btn-primary":"btn-secondary"),onClick:()=>{let e="underline"===((null==v?void 0:v.textDecoration)||b.decoration)?"none":"underline";j(t=>({...t,decoration:e})),v&&y(v.id,"textDecoration",e)},children:(0,s.jsx)(eN.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Text Alignment"}),(0,s.jsx)("div",{className:"flex space-x-1",children:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}].map(e=>{let{value:t,label:a}=e;return(0,s.jsx)("button",{className:"btn btn-sm ".concat(((null==v?void 0:v.textAlign)||b.align)===t?"btn-primary":"btn-secondary"),onClick:()=>{j(e=>({...e,align:t})),v&&y(v.id,"textAlign",t)},children:a},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Text Color"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-1",children:eC.map(e=>(0,s.jsx)("button",{onClick:()=>{j(t=>({...t,color:e})),v&&y(v.id,"color",e)},className:"w-8 h-8 rounded border-2 border-neutral-300 hover:border-primary-500",style:{backgroundColor:e}},e))})]})]}),v&&(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-neutral-200",children:[(0,s.jsx)("h3",{className:"font-medium text-neutral-900",children:"Selected Text"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Content"}),(0,s.jsx)("textarea",{value:v.content,onChange:e=>y(v.id,"content",e.target.value),className:"input w-full h-20 resize-none",rows:3})]}),(0,s.jsx)("button",{onClick:()=>{i(v.id),x(null)},className:"btn btn-danger btn-sm w-full",children:"Delete Text"})]})]})}),(0,s.jsxs)("div",{className:"flex-1 p-4",children:[(0,s.jsxs)("div",{className:"relative w-full h-full border border-neutral-300 bg-white overflow-auto cursor-crosshair",onClick:e=>{if(!u)return;let t=e.currentTarget.getBoundingClientRect();g({x:e.clientX-t.left,y:e.clientY-t.top})},style:{minHeight:d,minWidth:o},children:[c.map(e=>(0,s.jsx)("div",{className:"absolute border-2 cursor-move ".concat(m===e.id?"border-primary-500 bg-primary-50/20":"border-transparent hover:border-neutral-300"),style:{left:e.x,top:e.y,width:e.width,height:e.height},onClick:t=>{t.stopPropagation(),x(e.id),h(!1)},children:e.isEditing?(0,s.jsx)("textarea",{ref:f,value:e.content,onChange:t=>y(e.id,"content",t.target.value),onBlur:()=>y(e.id,"isEditing",!1),className:"w-full h-full resize-none border-none outline-none bg-transparent",style:{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,textAlign:e.textAlign,color:e.color}}):(0,s.jsx)("div",{className:"w-full h-full p-1 cursor-text",style:{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,textAlign:e.textAlign,color:e.color,whiteSpace:"pre-wrap",wordWrap:"break-word"},onDoubleClick:()=>y(e.id,"isEditing",!0),children:e.content})},e.id)),u&&p&&(0,s.jsx)("div",{className:"absolute border-2 border-dashed border-primary-500 bg-primary-50/20",style:{left:p.x,top:p.y,width:200,height:30},children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-primary-600 text-sm",children:"Click to add text here"})})]}),p&&(0,s.jsxs)("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{g(null),h(!1)},className:"btn btn-secondary btn-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{p&&(n({x:p.x,y:p.y,width:200,height:30,content:"New Text",fontSize:b.size,fontFamily:b.family,fontWeight:b.weight,fontStyle:b.style,textDecoration:b.decoration,textAlign:b.align,color:b.color,isEditing:!0}),h(!1),g(null))},className:"btn btn-primary btn-sm",children:"Add Text"})]})]})]})]})}):null},eP=a(1601);let eS=["solid","dashed","dotted"],eA=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080"];var eF=e=>{let{isVisible:t,onClose:a,onAddImage:n,onUpdateImage:r,onDeleteImage:c,imageElements:o,canvasWidth:d,canvasHeight:m}=e,[x,u]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),[g,b]=(0,l.useState)(null),[j,f]=(0,l.useState)({x:0,y:0}),[y,v]=(0,l.useState)(null),N=(0,l.useRef)(null),w=(0,l.useCallback)(e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a||!a.type.startsWith("image/"))return;let s=new FileReader;s.onload=e=>{var t;let a=new Image;a.onload=()=>{var t;let s=a.width/a.height,l=a.width,r=a.height;l>300&&(r=(l=300)/s),r>300&&(l=(r=300)*s),n({x:50,y:50,width:l,height:r,originalWidth:a.width,originalHeight:a.height,src:null===(t=e.target)||void 0===t?void 0:t.result,rotation:0,opacity:1,flipX:!1,flipY:!1,borderWidth:0,borderColor:"#000000",borderStyle:"solid",shadow:!1}),p(!1)},a.src=null===(t=e.target)||void 0===t?void 0:t.result},s.readAsDataURL(a),N.current&&(N.current.value="")},[n]),k=(0,l.useCallback)((e,t,a,s)=>{e.preventDefault(),e.stopPropagation();let l=o.find(e=>e.id===t);l&&("drag"===a?(b(t),f({x:e.clientX-l.x,y:e.clientY-l.y})):"resize"===a&&s&&v("".concat(t,"-").concat(s)),u(t))},[o]),C=(0,l.useCallback)(e=>{if(g)r(g,{x:e.clientX-j.x,y:e.clientY-j.y});else if(y){let[t,a]=y.split("-"),s=o.find(e=>e.id===t);if(!s)return;let l=e.currentTarget.getBoundingClientRect(),n=e.clientX-l.left;e.clientY,l.top;let i=s.width,c=s.height,d=s.x,m=s.y,x=s.originalWidth/s.originalHeight;switch(a){case"se":c=(i=n-s.x)/x;break;case"sw":c=(i=s.x+s.width-n)/x,d=n;break;case"ne":c=(i=n-s.x)/x,m=s.y+s.height-c;break;case"nw":c=(i=s.x+s.width-n)/x,d=n,m=s.y+s.height-c}i>20&&c>20&&r(t,{x:d,y:m,width:i,height:c})}},[g,j,y,o,r]),D=(0,l.useCallback)(()=>{b(null),v(null),f({x:0,y:0})},[]),P=(e,t,a)=>{r(e,{[t]:a})},S=o.find(e=>e.id===x);return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)(q,{className:"w-full max-w-6xl h-5/6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Image Editor"}),(0,s.jsx)("button",{onClick:a,className:"btn btn-ghost btn-sm text-neutral-500 hover:text-neutral-700",children:(0,s.jsx)(G.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)("div",{className:"w-80 border-r border-neutral-200 p-4 overflow-y-auto",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:w,className:"hidden"}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"btn btn-primary w-full",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Add Image"]})]}),S&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-medium text-neutral-900",children:"Selected Image"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-neutral-700",children:"Transform"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"X Position"}),(0,s.jsx)("input",{type:"number",value:Math.round(S.x),onChange:e=>P(S.id,"x",parseInt(e.target.value)||0),className:"input input-sm w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Y Position"}),(0,s.jsx)("input",{type:"number",value:Math.round(S.y),onChange:e=>P(S.id,"y",parseInt(e.target.value)||0),className:"input input-sm w-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Width"}),(0,s.jsx)("input",{type:"number",value:Math.round(S.width),onChange:e=>{let t=parseInt(e.target.value)||0,a=S.originalWidth/S.originalHeight;P(S.id,"width",t),P(S.id,"height",t/a)},className:"input input-sm w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Height"}),(0,s.jsx)("input",{type:"number",value:Math.round(S.height),onChange:e=>{let t=parseInt(e.target.value)||0,a=S.originalWidth/S.originalHeight;P(S.id,"height",t),P(S.id,"width",t*a)},className:"input input-sm w-full"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Rotation (degrees)"}),(0,s.jsx)("input",{type:"range",min:"0",max:"360",value:S.rotation,onChange:e=>P(S.id,"rotation",parseInt(e.target.value)),className:"w-full"}),(0,s.jsxs)("div",{className:"text-xs text-neutral-500 text-center",children:[S.rotation,"\xb0"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Opacity"}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:S.opacity,onChange:e=>P(S.id,"opacity",parseFloat(e.target.value)),className:"w-full"}),(0,s.jsxs)("div",{className:"text-xs text-neutral-500 text-center",children:[Math.round(100*S.opacity),"%"]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>P(S.id,"flipX",!S.flipX),className:"btn btn-sm flex-1 ".concat(S.flipX?"btn-primary":"btn-secondary"),children:"Flip X"}),(0,s.jsx)("button",{onClick:()=>P(S.id,"flipY",!S.flipY),className:"btn btn-sm flex-1 ".concat(S.flipY?"btn-primary":"btn-secondary"),children:"Flip Y"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-neutral-700",children:"Border"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Border Width"}),(0,s.jsx)("input",{type:"range",min:"0",max:"20",value:S.borderWidth,onChange:e=>P(S.id,"borderWidth",parseInt(e.target.value)),className:"w-full"}),(0,s.jsxs)("div",{className:"text-xs text-neutral-500 text-center",children:[S.borderWidth,"px"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Border Style"}),(0,s.jsx)("select",{value:S.borderStyle,onChange:e=>P(S.id,"borderStyle",e.target.value),className:"input input-sm w-full",children:eS.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Border Color"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-1",children:eA.map(e=>(0,s.jsx)("button",{onClick:()=>P(S.id,"borderColor",e),className:"w-6 h-6 rounded border-2 ".concat(S.borderColor===e?"border-primary-500":"border-neutral-300"),style:{backgroundColor:e}},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-neutral-700",children:"Effects"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:S.shadow,onChange:e=>P(S.id,"shadow",e.target.checked),className:"checkbox"}),(0,s.jsx)("label",{className:"text-sm text-neutral-700",children:"Drop Shadow"})]})]}),(0,s.jsx)("div",{className:"space-y-2 pt-4 border-t border-neutral-200",children:(0,s.jsxs)("button",{onClick:()=>{c(S.id),u(null)},className:"btn btn-danger btn-sm w-full",children:[(0,s.jsx)(eP.Z,{className:"w-4 h-4 mr-2"}),"Delete Image"]})})]})]})}),(0,s.jsx)("div",{className:"flex-1 p-4",children:(0,s.jsx)("div",{className:"relative w-full h-full border border-neutral-300 bg-white overflow-auto",style:{minHeight:m,minWidth:d},onMouseMove:C,onMouseUp:D,onMouseLeave:D,children:o.map(e=>(0,s.jsxs)("div",{className:"absolute cursor-move ".concat(x===e.id?"ring-2 ring-primary-500":"hover:ring-2 hover:ring-neutral-300"),style:{left:e.x,top:e.y,width:e.width,height:e.height,transform:"rotate(".concat(e.rotation,"deg) scaleX(").concat(e.flipX?-1:1,") scaleY(").concat(e.flipY?-1:1,")"),opacity:e.opacity},onMouseDown:t=>k(t,e.id,"drag"),onClick:t=>{t.stopPropagation(),u(e.id)},children:[(0,s.jsx)("img",{src:e.src,alt:"Editable image",className:"w-full h-full object-contain",style:{border:e.borderWidth>0?"".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor):"none",boxShadow:e.shadow?"0 4px 8px rgba(0, 0, 0, 0.2)":"none"},draggable:!1}),x===e.id&&(0,s.jsx)(s.Fragment,{children:["nw","ne","sw","se"].map(t=>(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-primary-500 border border-white cursor-pointer",style:{top:t.includes("n")?-6:"auto",bottom:t.includes("s")?-6:"auto",left:t.includes("w")?-6:"auto",right:t.includes("e")?-6:"auto",cursor:"".concat(t,"-resize")},onMouseDown:a=>k(a,e.id,"resize",t)},t))})]},e.id))})})]})]})}):null},eE=a(9672),eT=a(2312),eZ=a(147),eM=a(9734);let eO=[{id:"pdf",name:"PDF",description:"Portable Document Format",icon:u.Z,extension:"pdf",category:"document",supportsPages:!0},{id:"docx",name:"Word Document",description:"Microsoft Word format",icon:eE.Z,extension:"docx",category:"document",supportsPages:!0},{id:"xlsx",name:"Excel Spreadsheet",description:"Microsoft Excel format",icon:eT.Z,extension:"xlsx",category:"document",supportsPages:!1},{id:"pptx",name:"PowerPoint",description:"Microsoft PowerPoint format",icon:eZ.Z,extension:"pptx",category:"presentation",supportsPages:!0},{id:"png",name:"PNG Image",description:"Portable Network Graphics",icon:i.Z,extension:"png",category:"image",quality:"high",supportsPages:!0},{id:"jpg",name:"JPEG Image",description:"Joint Photographic Experts Group",icon:i.Z,extension:"jpg",category:"image",quality:"medium",supportsPages:!0},{id:"txt",name:"Plain Text",description:"Text file format",icon:eE.Z,extension:"txt",category:"other",supportsPages:!1},{id:"html",name:"HTML",description:"HyperText Markup Language",icon:u.Z,extension:"html",category:"other",supportsPages:!1}],eR=[{value:"low",label:"Low (Smaller file)",description:"Optimized for file size"},{value:"medium",label:"Medium (Balanced)",description:"Good balance of quality and size"},{value:"high",label:"High (Best quality)",description:"Maximum quality, larger file"}];var eL=e=>{let{isVisible:t,onClose:a,onExport:n,documentName:r,totalPages:i,currentPage:c}=e,[o,d]=(0,l.useState)("pdf"),[m,x]=(0,l.useState)({format:"pdf",quality:"medium",pageRange:"all",pageStart:1,pageEnd:i,includeAnnotations:!0,includeFormData:!0,optimizeForWeb:!1}),[u,h]=(0,l.useState)(!1),p=eO.find(e=>e.id===o),g=e=>{let t=eO.find(t=>t.id===e);t&&(d(e),x(a=>({...a,format:e,quality:t.quality||"medium",pageRange:t.supportsPages?a.pageRange:"all"})))},b=(e,t)=>{x(a=>({...a,[e]:t}))},j=eO.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return t?(0,s.jsx)(H,{isOpen:t,onClose:a,className:"max-w-4xl",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-neutral-900",children:"Export Document"}),(0,s.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:['Export "',r,'" to various formats']})]}),(0,s.jsx)("button",{onClick:a,className:"btn btn-ghost btn-sm text-neutral-500 hover:text-neutral-700",children:(0,s.jsx)(G.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Choose Format"}),Object.entries(j).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-3 capitalize",children:"other"===t?"Other Formats":"".concat(t," Formats")}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2",children:a.map(e=>{let t=e.icon;return(0,s.jsx)("button",{onClick:()=>g(e.id),className:"p-3 rounded-lg border-2 text-left transition-all ".concat(o===e.id?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(t,{className:"w-6 h-6 text-neutral-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-neutral-600",children:e.description})]})]})},e.id)})})]},t)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Export Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"File Name"}),(0,s.jsx)("div",{className:"p-2 bg-neutral-50 rounded border text-sm text-neutral-600",children:(()=>{let e=r.replace(/\.[^/.]+$/,""),t=(null==p?void 0:p.extension)||"pdf";return"".concat(e,".").concat(t)})()})]}),(null==p?void 0:p.category)==="image"&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Quality"}),(0,s.jsx)("div",{className:"space-y-2",children:eR.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"quality",value:e.value,checked:m.quality===e.value,onChange:e=>b("quality",e.target.value),className:"radio"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-neutral-900",children:e.label}),(0,s.jsx)("div",{className:"text-xs text-neutral-600",children:e.description})]})]},e.value))})]}),(null==p?void 0:p.supportsPages)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Page Range"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"all",checked:"all"===m.pageRange,onChange:e=>b("pageRange",e.target.value),className:"radio"}),(0,s.jsxs)("span",{className:"text-sm",children:["All pages (",i," pages)"]})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"current",checked:"current"===m.pageRange,onChange:e=>b("pageRange",e.target.value),className:"radio"}),(0,s.jsxs)("span",{className:"text-sm",children:["Current page (",c,")"]})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"pageRange",value:"range",checked:"range"===m.pageRange,onChange:e=>b("pageRange",e.target.value),className:"radio"}),(0,s.jsx)("span",{className:"text-sm",children:"Page range"})]}),"range"===m.pageRange&&(0,s.jsxs)("div",{className:"ml-6 flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",min:"1",max:i,value:m.pageStart,onChange:e=>b("pageStart",parseInt(e.target.value)||1),className:"input input-sm w-20"}),(0,s.jsx)("span",{className:"text-sm text-neutral-600",children:"to"}),(0,s.jsx)("input",{type:"number",min:m.pageStart,max:i,value:m.pageEnd,onChange:e=>b("pageEnd",parseInt(e.target.value)||i),className:"input input-sm w-20"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>h(!u),className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700",children:[(0,s.jsx)(eM.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Advanced Settings"})]}),u&&(0,s.jsxs)("div",{className:"mt-3 space-y-3 p-3 bg-neutral-50 rounded",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:m.includeAnnotations,onChange:e=>b("includeAnnotations",e.target.checked),className:"checkbox"}),(0,s.jsx)("span",{className:"text-sm",children:"Include annotations"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:m.includeFormData,onChange:e=>b("includeFormData",e.target.checked),className:"checkbox"}),(0,s.jsx)("span",{className:"text-sm",children:"Include form data"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:m.optimizeForWeb,onChange:e=>b("optimizeForWeb",e.target.checked),className:"checkbox"}),(0,s.jsx)("span",{className:"text-sm",children:"Optimize for web"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Password Protection (optional)"}),(0,s.jsx)("input",{type:"password",placeholder:"Enter password",value:m.password||"",onChange:e=>b("password",e.target.value||void 0),className:"input input-sm w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-600 mb-1",children:"Watermark Text (optional)"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter watermark text",value:m.watermark||"",onChange:e=>b("watermark",e.target.value||void 0),className:"input input-sm w-full"})]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-neutral-200",children:[(0,s.jsxs)("div",{className:"text-sm text-neutral-600",children:["Export format: ",(0,s.jsx)("span",{className:"font-medium",children:null==p?void 0:p.name})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),(0,s.jsxs)("button",{onClick:()=>{n(m),a()},className:"btn btn-primary",children:[(0,s.jsx)(z.Z,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})]})}):null},eI=a(6502),ez=a(4675),eU=a(1442);let e_={passwordProtection:{enabled:!1},permissions:{allowPrinting:!0,allowCopying:!0,allowEditing:!0,allowAnnotations:!0,allowFormFilling:!0,allowScreenReaders:!0},watermark:{enabled:!1,opacity:.3,fontSize:48,rotation:45,position:"diagonal",color:"#666666"},expiration:{enabled:!1},accessControl:{enabled:!1,allowedUsers:[],allowedDomains:[],ipRestrictions:[]}};function eB(e){let{isVisible:t,onClose:a,onApplyProtection:n,currentProtection:r}=e,[i,c]=(0,l.useState)(r||e_),[o,d]=(0,l.useState)("password"),[m,x]=(0,l.useState)({open:!1,edit:!1,print:!1}),u=(e,t)=>{c(a=>({...a,[e]:{...a[e],...t}}))},h=[{id:"password",label:"Password",icon:ez.Z},{id:"permissions",label:"Permissions",icon:U.Z},{id:"watermark",label:"Watermark",icon:eo.Z},{id:"expiration",label:"Expiration",icon:ed.Z},{id:"access",label:"Access Control",icon:ei.Z}];return(0,s.jsx)(H,{isOpen:t,onClose:a,size:"xl",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,s.jsx)(U.Z,{className:"w-6 h-6 mr-2"}),"Document Protection"]}),r&&(0,s.jsxs)(K,{className:"bg-green-100 text-green-800",children:[(0,s.jsx)(eU.Z,{className:"w-3 h-3 mr-1"}),"Protected"]})]}),(0,s.jsx)("div",{className:"flex space-x-1 mb-6 bg-neutral-100 p-1 rounded-lg",children:h.map(e=>{let{id:t,label:a,icon:l}=e;return(0,s.jsxs)("button",{onClick:()=>d(t),className:V("flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",o===t?"bg-white text-primary-600 shadow-sm":"text-neutral-600 hover:text-neutral-900"),children:[(0,s.jsx)(l,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:a})]},t)})}),(0,s.jsxs)("div",{className:"min-h-[400px]",children:["password"===o&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Password Protection"}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.passwordProtection.enabled,onChange:e=>u("passwordProtection",{enabled:e.target.checked}),className:"rounded"}),(0,s.jsx)("span",{children:"Enable"})]})]}),i.passwordProtection.enabled&&(0,s.jsxs)("div",{className:"space-y-4 pl-4 border-l-2 border-primary-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Document Open Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:m.open?"text":"password",value:i.passwordProtection.openPassword||"",onChange:e=>u("passwordProtection",{openPassword:e.target.value}),placeholder:"Enter password to open document",className:"input w-full pr-10"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,open:!e.open})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.open?(0,s.jsx)(eI.Z,{className:"w-4 h-4 text-neutral-500"}):(0,s.jsx)(el.Z,{className:"w-4 h-4 text-neutral-500"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Permissions Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:m.edit?"text":"password",value:i.passwordProtection.editPassword||"",onChange:e=>u("passwordProtection",{editPassword:e.target.value}),placeholder:"Enter password to modify permissions",className:"input w-full pr-10"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,edit:!e.edit})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.edit?(0,s.jsx)(eI.Z,{className:"w-4 h-4 text-neutral-500"}):(0,s.jsx)(el.Z,{className:"w-4 h-4 text-neutral-500"})})]})]})]})]}),{}),"permissions"===o&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Document Permissions"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries({allowPrinting:"Allow Printing",allowCopying:"Allow Copying",allowEditing:"Allow Editing",allowAnnotations:"Allow Annotations",allowFormFilling:"Allow Form Filling",allowScreenReaders:"Allow Screen Readers"}).map(e=>{let[t,a]=e;return(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.permissions[t],onChange:e=>u("permissions",{[t]:e.target.checked}),className:"rounded"}),(0,s.jsx)("span",{className:"text-sm",children:a})]},t)})})]}),{}),"watermark"===o&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Watermark"}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.watermark.enabled,onChange:e=>u("watermark",{enabled:e.target.checked}),className:"rounded"}),(0,s.jsx)("span",{children:"Enable"})]})]}),i.watermark.enabled&&(0,s.jsxs)("div",{className:"space-y-4 pl-4 border-l-2 border-primary-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Watermark Text"}),(0,s.jsx)("input",{type:"text",value:i.watermark.text||"",onChange:e=>u("watermark",{text:e.target.value}),placeholder:"Enter watermark text",className:"input w-full"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Opacity"}),(0,s.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:i.watermark.opacity,onChange:e=>u("watermark",{opacity:parseFloat(e.target.value)}),className:"w-full"}),(0,s.jsxs)("span",{className:"text-xs text-neutral-500",children:[Math.round(100*i.watermark.opacity),"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Font Size"}),(0,s.jsx)("input",{type:"number",min:"12",max:"72",value:i.watermark.fontSize,onChange:e=>u("watermark",{fontSize:parseInt(e.target.value)}),className:"input w-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Position"}),(0,s.jsxs)("select",{value:i.watermark.position,onChange:e=>u("watermark",{position:e.target.value}),className:"input w-full",children:[(0,s.jsx)("option",{value:"center",children:"Center"}),(0,s.jsx)("option",{value:"diagonal",children:"Diagonal"}),(0,s.jsx)("option",{value:"header",children:"Header"}),(0,s.jsx)("option",{value:"footer",children:"Footer"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Color"}),(0,s.jsx)("input",{type:"color",value:i.watermark.color,onChange:e=>u("watermark",{color:e.target.value}),className:"w-full h-10 rounded border"})]})]})]})]}),{}),"expiration"===o&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Document Expiration"}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.expiration.enabled,onChange:e=>u("expiration",{enabled:e.target.checked}),className:"rounded"}),(0,s.jsx)("span",{children:"Enable"})]})]}),i.expiration.enabled&&(0,s.jsxs)("div",{className:"space-y-4 pl-4 border-l-2 border-primary-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Expiry Date"}),(0,s.jsx)("input",{type:"datetime-local",value:i.expiration.expiryDate?i.expiration.expiryDate.toISOString().slice(0,16):"",onChange:e=>u("expiration",{expiryDate:new Date(e.target.value)}),className:"input w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Maximum Views"}),(0,s.jsx)("input",{type:"number",min:"1",value:i.expiration.maxViews||"",onChange:e=>u("expiration",{maxViews:parseInt(e.target.value)||void 0}),placeholder:"Unlimited",className:"input w-full"}),void 0!==i.expiration.currentViews&&(0,s.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Current views: ",i.expiration.currentViews]})]})]})]}),{}),"access"===o&&(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Access Control"}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.accessControl.enabled,onChange:e=>u("accessControl",{enabled:e.target.checked}),className:"rounded"}),(0,s.jsx)("span",{children:"Enable"})]})]}),i.accessControl.enabled&&(0,s.jsxs)("div",{className:"space-y-4 pl-4 border-l-2 border-primary-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Allowed Users (Email addresses)"}),(0,s.jsx)("textarea",{value:i.accessControl.allowedUsers.join("\n"),onChange:e=>u("accessControl",{allowedUsers:e.target.value.split("\n").filter(Boolean)}),placeholder:"user1@example.com\\nuser2@example.com",className:"input w-full h-20 resize-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Allowed Domains"}),(0,s.jsx)("textarea",{value:i.accessControl.allowedDomains.join("\n"),onChange:e=>u("accessControl",{allowedDomains:e.target.value.split("\n").filter(Boolean)}),placeholder:"example.com\\ncompany.org",className:"input w-full h-20 resize-none"})]})]})]}),{})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-6 border-t border-neutral-200",children:[(0,s.jsx)("button",{onClick:()=>c(e_),className:"btn btn-secondary",children:"Reset to Default"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{n(i),a()},className:"btn btn-primary",children:"Apply Protection"})]})]})]})})}var eW=a(9785),eV=a(9390),eq=a(9489),eG=a(1454),eH=a(7897),eK=a(588),eX=a(1071),eY=a(3727);function eJ(e){let{isVisible:t,onClose:a,onOpenFile:n,onCreateFolder:r,onUploadFiles:i,onDeleteItems:c,onRenameItem:o,onMoveItems:d,onToggleFavorite:m,onAddTags:x,files:h,currentFolderId:p}=e,[g,b]=(0,l.useState)("grid"),[j,f]=(0,l.useState)("name"),[y,w]=(0,l.useState)("asc"),[C,D]=(0,l.useState)(""),[P,S]=(0,l.useState)([]),[A,F]=(0,l.useState)("all"),[E,T]=(0,l.useState)(!1),[Z,O]=(0,l.useState)(""),[R,I]=(0,l.useState)(null),[z,U]=(0,l.useState)(""),[_,B]=(0,l.useState)(["Home"]),W=(0,l.useRef)(null),G=[...h.filter(e=>e.parentId===p).filter(e=>{if(C&&!e.name.toLowerCase().includes(C.toLowerCase()))return!1;switch(A){case"favorites":return e.isFavorite;case"recent":let t=new Date(Date.now()-2592e5);return e.modifiedAt>t;case"protected":return e.isProtected;default:return!0}})].sort((e,t)=>{let a=0;switch(j){case"name":a=e.name.localeCompare(t.name);break;case"date":a=e.modifiedAt.getTime()-t.modifiedAt.getTime();break;case"size":a=(e.size||0)-(t.size||0);break;case"type":a=e.type.localeCompare(t.type)}return"asc"===y?a:-a}),Y=()=>{Z.trim()&&(r(Z.trim(),p),O(""),T(!1))},J=e=>{var t;z.trim()&&z!==(null===(t=h.find(t=>t.id===e))||void 0===t?void 0:t.name)&&o(e,z.trim()),I(null),U("")},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):S([e])},$=e=>{if(!e)return"";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,t)).toFixed(1)," ").concat(["B","KB","MB","GB"][t])},ee=e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e),et=e=>{let{file:t}=e,a=P.includes(t.id),l=R===t.id;return(0,s.jsx)(q,{className:V("transition-all duration-200 cursor-pointer hover:shadow-md",a&&"ring-2 ring-primary-500 shadow-lg","grid"===g?"p-4":"p-3"),onClick:e=>{l||Q(t.id,e.ctrlKey||e.metaKey)},onDoubleClick:()=>{"file"===t.type&&n(t)},children:"grid"===g?(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsxs)("div",{className:"relative mx-auto w-16 h-16 flex items-center justify-center",children:["folder"===t.type?(0,s.jsx)(eW.Z,{className:"w-16 h-16 text-blue-500"}):(0,s.jsxs)("div",{className:"relative",children:[t.thumbnail?(0,s.jsx)("img",{src:t.thumbnail,alt:t.name,className:"w-16 h-16 object-cover rounded border"}):(0,s.jsx)(u.Z,{className:"w-16 h-16 text-red-500"}),t.isProtected&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-white",children:"\uD83D\uDD12"})})]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),m(t.id)},className:"absolute -top-1 -left-1",children:t.isFavorite?(0,s.jsx)(eY.Z,{className:"w-4 h-4 text-yellow-500"}):(0,s.jsx)(eV.Z,{className:"w-4 h-4 text-neutral-300 hover:text-yellow-500"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[l?(0,s.jsx)("input",{type:"text",value:z,onChange:e=>U(e.target.value),onBlur:()=>J(t.id),onKeyDown:e=>{"Enter"===e.key&&J(t.id),"Escape"===e.key&&(I(null),U(""))},className:"input input-sm w-full text-center",autoFocus:!0}):(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-900 truncate",title:t.name,children:t.name}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-xs text-neutral-500",children:[t.size&&(0,s.jsx)("span",{children:$(t.size)}),(0,s.jsx)("span",{children:ee(t.modifiedAt)})]}),t.tags.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center",children:[t.tags.slice(0,2).map(e=>(0,s.jsx)(K,{size:"sm",className:"bg-neutral-100 text-neutral-600",children:e},e)),t.tags.length>2&&(0,s.jsxs)(K,{size:"sm",className:"bg-neutral-100 text-neutral-600",children:["+",t.tags.length-2]})]})]})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:"folder"===t.type?(0,s.jsx)(eW.Z,{className:"w-8 h-8 text-blue-500"}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.Z,{className:"w-8 h-8 text-red-500"}),t.isProtected&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-white",children:"\uD83D\uDD12"})})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[l?(0,s.jsx)("input",{type:"text",value:z,onChange:e=>U(e.target.value),onBlur:()=>J(t.id),onKeyDown:e=>{"Enter"===e.key&&J(t.id),"Escape"===e.key&&(I(null),U(""))},className:"input input-sm w-full",autoFocus:!0}):(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-900 truncate",title:t.name,children:t.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[t.size&&(0,s.jsx)("span",{children:$(t.size)}),(0,s.jsx)("span",{children:ee(t.modifiedAt)}),t.tags.length>0&&(0,s.jsx)("div",{className:"flex space-x-1",children:t.tags.slice(0,3).map(e=>(0,s.jsx)(K,{size:"sm",className:"bg-neutral-100 text-neutral-600",children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),m(t.id)},children:t.isFavorite?(0,s.jsx)(eY.Z,{className:"w-4 h-4 text-yellow-500"}):(0,s.jsx)(eV.Z,{className:"w-4 h-4 text-neutral-300 hover:text-yellow-500"})}),(0,s.jsx)(X,{trigger:(0,s.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded",children:(0,s.jsx)(eg.Z,{className:"w-4 h-4"})}),items:[{id:"open",label:"Open",icon:(0,s.jsx)(el.Z,{className:"w-4 h-4"}),onClick:()=>n(t)},{id:"rename",label:"Rename",icon:(0,s.jsx)(k.Z,{className:"w-4 h-4"}),onClick:()=>{I(t.id),U(t.name)}},{id:"duplicate",label:"Duplicate",icon:(0,s.jsx)(eo.Z,{className:"w-4 h-4"}),onClick:()=>{}},{id:"download",label:"Download",icon:(0,s.jsx)(N.Z,{className:"w-4 h-4"}),onClick:()=>{}},{id:"share",label:"Share",icon:(0,s.jsx)(L.Z,{className:"w-4 h-4"}),onClick:()=>{}},{id:"separator",label:"",divider:!0},{id:"delete",label:"Delete",icon:(0,s.jsx)(eP.Z,{className:"w-4 h-4"}),onClick:()=>c([t.id])}]})]})]})})};return(0,s.jsxs)(H,{isOpen:t,onClose:a,size:"full",children:[(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,s.jsx)(v.Z,{className:"w-6 h-6 mr-2"}),"File Manager"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>T(!0),className:"btn btn-secondary btn-sm",children:[(0,s.jsx)(eq.Z,{className:"w-4 h-4 mr-1"}),"New Folder"]}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},className:"btn btn-primary btn-sm",children:[(0,s.jsx)(eG.Z,{className:"w-4 h-4 mr-1"}),"Upload Files"]}),(0,s.jsx)("input",{ref:W,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt",onChange:e=>{let t=Array.from(e.target.files||[]);t.length>0&&i(t,p),W.current&&(W.current.value="")},className:"hidden"})]})]}),(0,s.jsx)("nav",{className:"flex items-center space-x-2 text-sm text-neutral-600 mb-4",children:_.map((e,t)=>(0,s.jsxs)(l.Fragment,{children:[t>0&&(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("button",{className:"hover:text-primary-600",children:e})]},t))}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(M.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),(0,s.jsx)("input",{type:"text",value:C,onChange:e=>D(e.target.value),placeholder:"Search files and folders...",className:"input pl-10 w-full"})]}),(0,s.jsxs)("select",{value:A,onChange:e=>F(e.target.value),className:"input w-auto",children:[(0,s.jsx)("option",{value:"all",children:"All Files"}),(0,s.jsx)("option",{value:"favorites",children:"Favorites"}),(0,s.jsx)("option",{value:"recent",children:"Recent"}),(0,s.jsx)("option",{value:"protected",children:"Protected"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("select",{value:j,onChange:e=>f(e.target.value),className:"input w-auto",children:[(0,s.jsx)("option",{value:"name",children:"Name"}),(0,s.jsx)("option",{value:"date",children:"Date"}),(0,s.jsx)("option",{value:"size",children:"Size"}),(0,s.jsx)("option",{value:"type",children:"Type"})]}),(0,s.jsx)("button",{onClick:()=>w(e=>"asc"===e?"desc":"asc"),className:"btn btn-secondary btn-sm",children:(0,s.jsx)(eH.Z,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{className:"flex border border-neutral-300 rounded",children:[(0,s.jsx)("button",{onClick:()=>b("grid"),className:V("p-2 transition-colors","grid"===g?"bg-primary-500 text-white":"hover:bg-neutral-100"),children:(0,s.jsx)(eK.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>b("list"),className:V("p-2 transition-colors","list"===g?"bg-primary-500 text-white":"hover:bg-neutral-100"),children:(0,s.jsx)(eX.Z,{className:"w-4 h-4"})})]})]})]})]}),(0,s.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:0===G.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(eW.Z,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-neutral-500",children:C?"No files found matching your search.":"This folder is empty."})]}):(0,s.jsx)("div",{className:V("grid"===g?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4":"space-y-2"),children:G.map(e=>(0,s.jsx)(et,{file:e},e.id))})}),P.length>0&&(0,s.jsx)("div",{className:"p-4 border-t border-neutral-200 bg-neutral-50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-sm text-neutral-600",children:[P.length," item",P.length>1?"s":""," selected"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>c(P),className:"btn btn-secondary btn-sm text-red-600",children:[(0,s.jsx)(eP.Z,{className:"w-4 h-4 mr-1"}),"Delete"]}),(0,s.jsx)("button",{onClick:()=>S([]),className:"btn btn-secondary btn-sm",children:"Clear Selection"})]})]})})]}),E&&(0,s.jsx)(H,{isOpen:E,onClose:()=>T(!1),size:"sm",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Folder"}),(0,s.jsx)("input",{type:"text",value:Z,onChange:e=>O(e.target.value),placeholder:"Folder name",className:"input w-full mb-4",onKeyDown:e=>{"Enter"===e.key&&Y(),"Escape"===e.key&&T(!1)},autoFocus:!0}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{onClick:Y,disabled:!Z.trim(),className:"btn btn-primary",children:"Create"})]})]})})]})}var eQ=a(9064);function e$(e){let{document:t}=e,{state:a}=(0,r.l)(),{dispatch:c}=(0,n.E)(),[o,d]=(0,l.useState)(""),[u,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),[b,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)(null),[N,C]=(0,l.useState)(!1),[D,P]=(0,l.useState)(!1),[S,A]=(0,l.useState)(!1),[F,E]=(0,l.useState)(!1),[T,Z]=(0,l.useState)(!1),[B,W]=(0,l.useState)(!1),[V,q]=(0,l.useState)(!1),[G,H]=(0,l.useState)(!1),[K,X]=(0,l.useState)(0),[Y,J]=(0,l.useState)([]),[Q,$]=(0,l.useState)([]),[ee,et]=(0,l.useState)(null),[ea,es]=(0,l.useState)(!1),el=(0,l.useRef)(null),[en,er]=(0,l.useState)(null),ei=(0,l.useCallback)(e=>{e?(console.log("Canvas mounted"),er(e)):(console.log("Canvas unmounted"),er(null))},[]),ec=async()=>new TextEncoder().encode("%PDF-1.4\n1 0 obj\n<<\n/Type /Catalog\n/Pages 2 0 R\n>>\nendobj\n\n2 0 obj\n<<\n/Type /Pages\n/Kids [3 0 R]\n/Count 1\n>>\nendobj\n\n3 0 obj\n<<\n/Type /Page\n/Parent 2 0 R\n/MediaBox [0 0 612 792]\n/Contents 4 0 R\n>>\nendobj\n\n4 0 obj\n<<\n/Length 44\n>>\nstream\nBT\n/F1 12 Tf\n100 700 Td\n(Welcome to PDF Vision) Tj\nET\nendstream\nendobj\n\nxref\n0 5\n0000000000 65535 f \n0000000009 00000 n \n0000000058 00000 n \n0000000115 00000 n \n0000000206 00000 n \ntrailer\n<<\n/Size 5\n/Root 1 0 R\n>>\nstartxref\n299\n%%EOF").buffer;(0,l.useEffect)(()=>{t&&t.path&&eo()},[t]),(0,l.useEffect)(()=>{p&&en&&ed(t.currentPage)},[p,t.currentPage,t.zoom,en]),(0,l.useEffect)(()=>{p&&en&&K>0&&ed(1)},[p,en,K]);let eo=async()=>{es(!0),et(null);try{var e;let a;if(t.path&&(null===(e=window.electronAPI)||void 0===e?void 0:e.fs))try{a=await window.electronAPI.fs.readFile(t.path)}catch(e){throw Error("Failed to read file: ".concat(t.path))}else{let e=t.path||"/sample.pdf";try{let t=e.startsWith("/")?e:"/".concat(e),s=await fetch(t,{method:"GET",headers:{Accept:"application/pdf"}});if(!s.ok)throw Error("HTTP ".concat(s.status,": ").concat(s.statusText));a=await s.arrayBuffer()}catch(e){a=await ec()}}if(!a||0===a.byteLength)throw Error("PDF file is empty or corrupted");let s=_.getDocument({data:a}),l=await s.promise;if(0===l.numPages)throw Error("PDF has no pages");g(l),X(l.numPages),eQ.Am.success("PDF loaded successfully (".concat(l.numPages," pages)")),c({type:"UPDATE_DOCUMENT",payload:{id:t.id,pages:Array.from({length:l.numPages},(e,a)=>({id:"".concat(t.id,"-page-").concat(a+1),pageNumber:a+1,width:612,height:792,rotation:0,annotations:[]}))}}),et(null),eQ.Am.success("PDF loaded successfully")}catch(t){let e=t instanceof Error?t.message:"Unknown error occurred";et("Failed to load PDF: ".concat(e))}finally{es(!1)}},ed=async e=>{if(p&&en&&!b&&!(e<1)&&!(e>K)){j(!0);try{let a=await p.getPage(e),s=a.getViewport({scale:t.zoom});if(!en){j(!1);return}let l=en.getContext("2d");if(!l){j(!1);return}en.height=s.height,en.width=s.width,l.clearRect(0,0,en.width,en.height);let n=a.render({canvasContext:l,viewport:s});await n.promise,c({type:"UPDATE_DOCUMENT",payload:{id:t.id,pages:t.pages.map(t=>t.pageNumber===e?{...t,width:s.width,height:s.height}:t)}}),j(!1),null!==f&&(y(null),ed(f))}catch(t){console.error("Error rendering page:",t),eQ.Am.error("Failed to render page ".concat(e)),j(!1)}}},ex=e=>{d(e),console.log("Searching for:",e)},eu=async()=>{try{if(!p){eQ.Am.error("No PDF document loaded");return}if(!en){eQ.Am.error("PDF not rendered yet");return}if(t.path&&t.path.startsWith("/"))try{let e=await fetch(t.path);if(e.ok){let a=await e.blob(),s=URL.createObjectURL(a),l=window.document.createElement("a");l.href=s,l.download=t.name||"document.pdf",window.document.body.appendChild(l),l.click(),window.document.body.removeChild(l),URL.revokeObjectURL(s),eQ.Am.success("PDF downloaded successfully");return}}catch(e){console.error("Error downloading PDF:",e)}let e=en.toDataURL("image/png"),a=window.document.createElement("a");a.href=e,a.download="".concat(t.name||"document",".png"),window.document.body.appendChild(a),a.click(),window.document.body.removeChild(a),eQ.Am.success("PDF page downloaded as image")}catch(e){console.error("Error downloading PDF:",e),eQ.Am.error("Failed to download PDF")}},ep=async e=>{try{if(!p||!en){eQ.Am.error("No PDF document loaded");return}let{format:a,quality:s,pageRange:l,pageStart:n,pageEnd:r}=e;if("pdf"===a){await eu();return}if("png"===a||"jpg"===a){let e=en.toDataURL("image/".concat(a),"high"===s?1:"medium"===s?.8:.6),l=window.document.createElement("a");l.href=e,l.download="".concat(t.name||"document",".").concat(a),window.document.body.appendChild(l),l.click(),window.document.body.removeChild(l),eQ.Am.success("Document exported as ".concat(a.toUpperCase()));return}if("docx"===a||"xlsx"===a||"pptx"===a){eQ.Am.error("".concat(a.toUpperCase()," export is only available in the desktop app"));return}if("txt"===a){try{let e=await p.getPage(t.currentPage),a=(await e.getTextContent()).items.map(e=>e.str).join(" "),s=new Blob([a],{type:"text/plain"}),l=URL.createObjectURL(s),n=window.document.createElement("a");n.href=l,n.download="".concat(t.name||"document",".txt"),window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n),URL.revokeObjectURL(l),eQ.Am.success("Text content exported")}catch(e){eQ.Am.error("Failed to extract text content")}return}eQ.Am.error("Export format not supported in web version")}catch(e){console.error("Error exporting document:",e),eQ.Am.error("Failed to export document")}};return t?(0,s.jsxs)("div",{className:"flex-1 flex flex-col bg-pdf-bg",children:[(0,s.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:t.name}),t.isModified&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"relative",children:u?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search in document...",value:o,onChange:e=>ex(e.target.value),className:"input w-64",autoFocus:!0}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}):(0,s.jsx)("button",{onClick:()=>h(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Search (Ctrl+F)",children:(0,s.jsx)(M.Z,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 border-l border-gray-200 pl-4",children:[(0,s.jsx)("button",{onClick:()=>{let e=Math.max(t.zoom-.25,.25);c({type:"UPDATE_DOCUMENT",payload:{id:t.id,zoom:e}})},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom Out",children:(0,s.jsx)(O.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 min-w-[60px] text-center",children:[Math.round(100*t.zoom),"%"]}),(0,s.jsx)("button",{onClick:()=>{let e=Math.min(t.zoom+.25,3);c({type:"UPDATE_DOCUMENT",payload:{id:t.id,zoom:e}})},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom In",children:(0,s.jsx)(R.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 border-l border-gray-200 pl-4",children:[(0,s.jsx)("button",{onClick:()=>{if(t.currentPage>1){let e=t.currentPage-1;c({type:"UPDATE_DOCUMENT",payload:{id:t.id,currentPage:e}})}},disabled:t.currentPage<=1,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous Page",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",min:"1",max:t.pages.length,value:t.currentPage,onChange:e=>{let a=parseInt(e.target.value);a>=1&&a<=t.pages.length&&c({type:"UPDATE_DOCUMENT",payload:{id:t.id,currentPage:a}})},className:"w-16 px-2 py-1 text-center border border-gray-300 rounded text-sm"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["of ",t.pages.length]})]}),(0,s.jsx)("button",{onClick:()=>{if(t.currentPage<t.pages.length){let e=t.currentPage+1;c({type:"UPDATE_DOCUMENT",payload:{id:t.id,currentPage:e}})}},disabled:t.currentPage>=t.pages.length,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Next Page",children:(0,s.jsx)(m.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 border-l border-gray-200 pl-4",children:[(0,s.jsx)("button",{onClick:()=>{C(!0)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Print Document",children:(0,s.jsx)(w.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{P(!0)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Share Document",children:(0,s.jsx)(L.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>A(!S),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded ".concat(S?"bg-gray-100 text-gray-900":""),title:"Comments",children:(0,s.jsx)(I.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 border-l border-gray-200 pl-4",children:[(0,s.jsx)("button",{onClick:()=>E(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Text Editor",children:(0,s.jsx)(k.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>Z(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Image Editor",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:eu,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Download PDF",children:(0,s.jsx)(z.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{eQ.Am.success("Save functionality is available in the desktop app. Use Download for web version.")},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Save (Desktop App Only)",children:(0,s.jsx)(z.Z,{className:"w-5 h-5 opacity-50"})}),(0,s.jsx)("button",{onClick:()=>W(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Export Document",children:(0,s.jsx)(z.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>q(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Document Protection",children:(0,s.jsx)(U.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>H(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"File Manager",children:(0,s.jsx)(v.Z,{className:"w-5 h-5"})})]})]})]}),(0,s.jsxs)("div",{ref:el,className:"flex-1 overflow-auto p-4",style:{cursor:"hand"===a.activeTool?"grab":"default"},children:[ea&&(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading PDF..."})]})}),ee&&!ea&&(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-center max-w-md",children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,s.jsx)("div",{className:"text-red-600 mb-2",children:(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Failed to Load PDF"}),(0,s.jsx)("p",{className:"text-red-700 text-sm mb-4",children:ee}),(0,s.jsx)("button",{onClick:()=>eo(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})})}),!ea&&!ee&&p&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("canvas",{ref:ei,className:"pdf-page shadow-lg",style:{maxWidth:"100%",height:"auto"}}),(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:t.annotations.filter(e=>e.pageNumber===t.currentPage).map(e=>(0,s.jsx)("div",{className:"absolute pointer-events-auto ".concat("highlight"===e.type?"annotation-highlight":"note"===e.type?"annotation-note":"annotation-drawing"),style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),backgroundColor:e.color||"#fbbf24"},title:e.content,children:"note"===e.type&&e.content&&(0,s.jsx)("div",{className:"absolute top-full left-0 mt-1 p-2 bg-yellow-100 border border-yellow-300 rounded shadow-lg text-sm max-w-xs z-10 opacity-0 hover:opacity-100 transition-opacity",children:e.content})},e.id))})]})})]}),(0,s.jsxs)("div",{className:"bg-white border-t border-gray-200 px-4 py-2 flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{children:["Page ",t.currentPage," of ",t.pages.length]}),(0,s.jsxs)("span",{children:["Zoom: ",Math.round(100*t.zoom),"%"]}),(0,s.jsxs)("span",{children:["Tool: ",a.activeTool]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{children:["Annotations: ",t.annotations.length]}),(0,s.jsxs)("span",{children:["Modified: ",t.modifiedAt.toLocaleTimeString()]})]})]}),N&&(0,s.jsx)(eh,{isOpen:N,onClose:()=>C(!1),onPrint:e=>{console.log("Printing with settings:",e)},documentName:(null==t?void 0:t.name)||"Document",totalPages:K}),D&&(0,s.jsx)(em,{isOpen:D,onClose:()=>P(!1),documentName:(null==t?void 0:t.name)||"Document",documentId:(null==t?void 0:t.id)||"doc-1"}),S&&(0,s.jsx)("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-xl z-50 border-l border-neutral-200",children:(0,s.jsx)(ef,{comments:[],currentUser:{id:"user-1",name:"Current User",email:"user@example.com"},onAddComment:()=>{},onUpdateComment:()=>{},onDeleteComment:()=>{},onReplyToComment:()=>{},onUpdateReply:()=>{},onDeleteReply:()=>{},onLikeComment:()=>{},onLikeReply:()=>{},onResolveComment:()=>{},onChangeCommentStatus:()=>{},onSelectComment:()=>{}})}),(0,s.jsx)(eD,{isVisible:F,onClose:()=>E(!1),onAddText:e=>{let t={...e,id:"text-".concat(Date.now())};J(e=>[...e,t])},onUpdateText:(e,t)=>{J(a=>a.map(a=>a.id===e?{...a,...t}:a))},onDeleteText:e=>{J(t=>t.filter(t=>t.id!==e))},textElements:Y,canvasWidth:800,canvasHeight:1e3}),(0,s.jsx)(eF,{isVisible:T,onClose:()=>Z(!1),onAddImage:e=>{let t={...e,id:"image-".concat(Date.now())};$(e=>[...e,t])},onUpdateImage:(e,t)=>{$(a=>a.map(a=>a.id===e?{...a,...t}:a))},onDeleteImage:e=>{$(t=>t.filter(t=>t.id!==e))},imageElements:Q,canvasWidth:800,canvasHeight:1e3}),(0,s.jsx)(eL,{isVisible:B,onClose:()=>W(!1),onExport:ep,documentName:(null==t?void 0:t.name)||"Document",totalPages:K,currentPage:(null==t?void 0:t.currentPage)||1}),(0,s.jsx)(eB,{isVisible:V,onClose:()=>q(!1),onApplyProtection:e=>{console.log("Applying protection with settings:",e)}}),(0,s.jsx)(eJ,{isVisible:G,onClose:()=>H(!1),onOpenFile:e=>{console.log("Opening file:",e)},onCreateFolder:(e,t)=>{console.log("Creating folder:",e,t)},onUploadFiles:(e,t)=>{console.log("Uploading files:",e,t)},onDeleteItems:e=>{console.log("Deleting items:",e)},onRenameItem:(e,t)=>{console.log("Renaming item:",e,t)},onMoveItems:(e,t)=>{console.log("Moving items:",e,t)},onToggleFavorite:e=>{console.log("Toggling favorite:",e)},onAddTags:(e,t)=>{console.log("Adding tags:",e,t)},files:[],currentFolderId:void 0})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:(0,s.jsx)("div",{className:"text-center text-gray-500",children:(0,s.jsx)("p",{children:"No document selected"})})})}_.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js";var e0=a(5725),e1=a(2086),e2=a(2087);function e4(e){let{onOpenFile:t,onNewFile:a}=e,{state:r,dispatch:i}=(0,n.E)(),{t:c}=(0,e1.$)(),o=(0,l.useCallback)(async e=>{try{let t;if("string"==typeof e){if(window.electronAPI){let a=await window.electronAPI.fs.readFile(e);a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength),t=e.split("/").pop()||"document.pdf"}else{eQ.Am.error("File operations are only available in the desktop app");return}}else await e.arrayBuffer(),t=e.name;let a={id:Date.now().toString(),name:t,path:"string"==typeof e?e:void 0,pages:[],currentPage:1,zoom:1,annotations:[],isModified:!1,createdAt:new Date,modifiedAt:new Date};i({type:"ADD_DOCUMENT",payload:a}),i({type:"SET_ACTIVE_DOCUMENT",payload:a}),eQ.Am.success("Loaded ".concat(t," successfully"))}catch(e){console.error("Error loading PDF:",e),eQ.Am.error("Failed to load PDF file")}},[i]),d=(0,l.useCallback)(e=>{let t=e[0];t&&"application/pdf"===t.type?o(t):eQ.Am.error("Please select a valid PDF file")},[o]),m=(0,l.useCallback)(async()=>{if(window.electronAPI)try{let e=await window.electronAPI.openFileDialog({properties:["openFile"],filters:[{name:"PDF Files",extensions:["pdf"]}]});!e.canceled&&e.filePaths.length>0&&await o(e.filePaths[0])}catch(e){console.error("Error opening file:",e),eQ.Am.error("Failed to open file")}else eQ.Am.error("File operations are only available in the desktop app"),null==t||t()},[o,t]),x=(0,l.useCallback)(()=>{let e={id:Date.now().toString(),name:"Untitled.pdf",path:void 0,pages:[],currentPage:1,zoom:1,annotations:[],isModified:!1,createdAt:new Date,modifiedAt:new Date};i({type:"ADD_DOCUMENT",payload:e}),i({type:"SET_ACTIVE_DOCUMENT",payload:e}),eQ.Am.success("Created new document"),null==a||a()},[i,a]),{getRootProps:h,getInputProps:p,isDragActive:g}=(0,e0.uI)({onDrop:d,accept:{"application/pdf":[".pdf"]},multiple:!1}),b=r.recentFiles.slice(0,5),j=[{icon:u.Z,title:"View & Edit PDFs",description:"Open, view, and edit PDF documents with professional tools"},{icon:e2.Z,title:"Annotations",description:"Add highlights, comments, drawings, and signatures"},{icon:v.Z,title:"File Management",description:"Organize, merge, split, and manage your PDF files"}];return(0,s.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 bg-gradient-to-br from-gray-50 to-gray-100",children:(0,s.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,s.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,s.jsx)(u.Z,{className:"w-8 h-8 text-white"})})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:c("welcome")}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:c("welcomeDescription")})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[(0,s.jsxs)("div",{...h(),className:"dropzone cursor-pointer transition-all duration-200 ".concat(g?"active":""),children:[(0,s.jsx)("input",{...p()}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(v.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c(g?"dropPDFHere":"openFile")}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:c(g?"releaseToOpen":"dragDropDescription")}),(0,s.jsxs)("button",{onClick:m,className:"btn btn-primary inline-flex items-center space-x-2",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:c("browseFiles")})]})]})]}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-400 hover:bg-primary-50 transition-all duration-200",children:[(0,s.jsx)(y.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c("newDocument")}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:c("createNewDescription")}),(0,s.jsxs)("button",{onClick:x,className:"btn btn-secondary inline-flex items-center space-x-2",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:c("newDocument")})]})]})]}),b.length>0&&(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,s.jsx)(ed.Z,{className:"w-6 h-6 mr-2 text-gray-600"}),c("recentFiles")]}),(0,s.jsx)("div",{className:"grid gap-3",children:b.map((e,t)=>{let a=e.split("/").pop()||e;return(0,s.jsxs)("div",{className:"flex items-center p-4 bg-white rounded-lg border border-gray-200 hover:border-primary-300 hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:()=>{o(e)},children:[(0,s.jsx)(u.Z,{className:"w-8 h-8 text-red-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-primary-700",children:a}),(0,s.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Recent"})]},t)})})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 text-center",children:"Powerful PDF Tools"}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:j.map((e,t)=>{let a=e.icon;return(0,s.jsxs)("div",{className:"text-center p-6 bg-white rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(a,{className:"w-6 h-6 text-primary-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600",children:e.description})]},t)})})]}),(0,s.jsx)("div",{className:"text-center mt-12 pt-8 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"text-gray-500",children:["Powered by"," ",(0,s.jsx)("span",{className:"font-semibold text-primary-600",children:"MF Visions"})," ","• Created by Mohammad Fahad Alghammas"]})})]})})}function e5(){let{state:e,dispatch:t}=(0,r.l)();if(!e.modals.about)return null;let a=()=>{t({type:"CLOSE_MODAL",payload:"about"})};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"About PDF Vision"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-adobe-blue rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("span",{className:"text-2xl font-bold text-white",children:"PV"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PDF Vision"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Professional PDF Editor"})]}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Version:"}),(0,s.jsx)("p",{className:"text-gray-600",children:"1.0.0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Build:"}),(0,s.jsx)("p",{className:"text-gray-600",children:"2024.01.001"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Platform:"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Windows"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Architecture:"}),(0,s.jsx)("p",{className:"text-gray-600",children:"x64"})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Company Information"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Company:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"MF Visions"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Website:"}),(0,s.jsx)("a",{href:"https://MFvisions.com",target:"_blank",rel:"noopener noreferrer",className:"text-adobe-blue hover:text-adobe-blue-dark transition-colors",children:"MFvisions.com"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Founder:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Mohammad Fahad Alghammas"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Key Features"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Complete PDF viewing and editing"}),(0,s.jsx)("li",{children:"• Digital signature support"}),(0,s.jsx)("li",{children:"• Annotation and markup tools"}),(0,s.jsx)("li",{children:"• Form creation and filling"}),(0,s.jsx)("li",{children:"• Document merging and splitting"}),(0,s.jsx)("li",{children:"• Offline functionality"})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"\xa9 2024 MF Visions. All rights reserved."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Developed by Mohammad Fahad Alghammas"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-200",children:(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors",children:"Close"})})]})})}var e6=a(9158),e3=a(1),e7=a(9387);function e9(){let{state:e,dispatch:t}=(0,r.l)(),{t:a,isRTL:n}=(0,e1.$)(),[i,c]=(0,l.useState)("general");if(!e.modals.settings)return null;let o=()=>{t({type:"CLOSE_MODAL",payload:"settings"})},d=e=>{t({type:"SET_THEME",payload:e})},m=e=>{t({type:"SET_LANGUAGE",payload:e})},x=(e,a)=>{t({type:"UPDATE_PREFERENCES",payload:{[e]:a}})},u=[{id:"general",label:a("general")},{id:"display",label:a("display")},{id:"editing",label:a("editing")},{id:"security",label:a("security")},{id:"advanced",label:a("advanced")}],h=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:a("language")}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:a("selectLanguage")}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a("chooseLanguage")})]}),(0,s.jsxs)("select",{value:e.language,onChange:e=>m(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"en",children:"English"}),(0,s.jsx)("option",{value:"ar",children:"العربية"})]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:a("application")}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:a("autoSave")}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a("autoSaveDescription")})]}),(0,s.jsx)("input",{type:"checkbox",checked:e.preferences.autoSave,onChange:e=>x("autoSave",e.target.checked),className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:a("autoBackup")}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a("autoBackupDescription")})]}),(0,s.jsx)("input",{type:"checkbox",checked:e.preferences.autoBackup,onChange:e=>x("autoBackup",e.target.checked),className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:a("checkUpdates")}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a("checkUpdatesDescription")})]}),(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Default Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default zoom level"}),(0,s.jsxs)("select",{className:"input w-full",value:e.preferences.defaultZoom,onChange:e=>x("defaultZoom",parseInt(e.target.value)),children:[(0,s.jsx)("option",{value:"50",children:"50%"}),(0,s.jsx)("option",{value:"75",children:"75%"}),(0,s.jsx)("option",{value:"100",children:"100%"}),(0,s.jsx)("option",{value:"125",children:"125%"}),(0,s.jsx)("option",{value:"150",children:"150%"}),(0,s.jsx)("option",{value:"200",children:"200%"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default page layout"}),(0,s.jsxs)("select",{className:"input w-full",value:e.preferences.pageLayout,onChange:e=>x("pageLayout",e.target.value),children:[(0,s.jsx)("option",{value:"single",children:"Single page"}),(0,s.jsx)("option",{value:"continuous",children:"Continuous"}),(0,s.jsx)("option",{value:"facing",children:"Two pages"}),(0,s.jsx)("option",{value:"continuous-facing",children:"Continuous facing"})]})]})]})]})]}),p=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Theme"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>d("light"),className:"p-3 border rounded-lg flex flex-col items-center space-y-2 transition-colors ".concat("light"===e.theme?"border-adobe-blue bg-adobe-blue/5":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(e6.Z,{className:"w-6 h-6 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Light"})]}),(0,s.jsxs)("button",{onClick:()=>d("dark"),className:"p-3 border rounded-lg flex flex-col items-center space-y-2 transition-colors ".concat("dark"===e.theme?"border-adobe-blue bg-adobe-blue/5":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(e3.Z,{className:"w-6 h-6 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Dark"})]}),(0,s.jsxs)("button",{onClick:()=>d("auto"),className:"p-3 border rounded-lg flex flex-col items-center space-y-2 transition-colors ".concat("auto"===e.theme?"border-adobe-blue bg-adobe-blue/5":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(e7.Z,{className:"w-6 h-6 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Auto"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Interface"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Show toolbar labels"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Display text labels on toolbar buttons"})]}),(0,s.jsx)("input",{type:"checkbox",checked:e.preferences.showToolbarLabels,onChange:e=>x("showToolbarLabels",e.target.checked),className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Compact sidebar"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Use smaller sidebar panels"})]}),(0,s.jsx)("input",{type:"checkbox",checked:e.preferences.compactSidebar,onChange:e=>x("compactSidebar",e.target.checked),className:"toggle"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"UI scale"}),(0,s.jsxs)("select",{className:"input w-full",value:e.preferences.uiScale,onChange:e=>x("uiScale",parseInt(e.target.value)),children:[(0,s.jsx)("option",{value:"90",children:"90%"}),(0,s.jsx)("option",{value:"100",children:"100%"}),(0,s.jsx)("option",{value:"110",children:"110%"}),(0,s.jsx)("option",{value:"125",children:"125%"}),(0,s.jsx)("option",{value:"150",children:"150%"})]})]})]})]})]}),g=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Annotations"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default highlight color"}),(0,s.jsx)("div",{className:"flex space-x-2",children:["#fbbf24","#ef4444","#10b981","#3b82f6","#8b5cf6"].map(t=>(0,s.jsx)("button",{onClick:()=>x("defaultHighlightColor",t),className:"w-8 h-8 rounded border-2 transition-colors ".concat(e.preferences.defaultHighlightColor===t?"border-adobe-blue border-4":"border-gray-300 hover:border-gray-400"),style:{backgroundColor:t}},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default author name"}),(0,s.jsx)("input",{type:"text",defaultValue:"Mohammad Fahad Alghammas",className:"input w-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Auto-select annotation tool"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Keep annotation tool selected after use"})]}),(0,s.jsx)("input",{type:"checkbox",className:"toggle"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Text Editing"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default font"}),(0,s.jsxs)("select",{className:"input w-full",children:[(0,s.jsx)("option",{value:"helvetica",children:"Helvetica"}),(0,s.jsx)("option",{value:"times",children:"Times New Roman"}),(0,s.jsx)("option",{value:"courier",children:"Courier"}),(0,s.jsx)("option",{value:"arial",children:"Arial"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default font size"}),(0,s.jsxs)("select",{className:"input w-full",children:[(0,s.jsx)("option",{value:"10",children:"10pt"}),(0,s.jsx)("option",{value:"12",children:"12pt"}),(0,s.jsx)("option",{value:"14",children:"14pt"}),(0,s.jsx)("option",{value:"16",children:"16pt"}),(0,s.jsx)("option",{value:"18",children:"18pt"})]})]})]})]})]}),b=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Digital Signatures"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Require password for signing"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Always prompt for password when signing documents"})]}),(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Verify signatures on open"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Automatically verify digital signatures when opening PDFs"})]}),(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Default signature appearance"}),(0,s.jsxs)("select",{className:"input w-full",children:[(0,s.jsx)("option",{value:"name-only",children:"Name only"}),(0,s.jsx)("option",{value:"name-date",children:"Name and date"}),(0,s.jsx)("option",{value:"name-date-reason",children:"Name, date, and reason"}),(0,s.jsx)("option",{value:"custom",children:"Custom appearance"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Privacy"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Clear recent files on exit"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Remove recent files list when closing application"})]}),(0,s.jsx)("input",{type:"checkbox",className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Disable telemetry"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Don't send usage data to improve the application"})]}),(0,s.jsx)("input",{type:"checkbox",className:"toggle"})]})]})]})]}),j=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Performance"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Memory usage limit (MB)"}),(0,s.jsx)("input",{type:"number",defaultValue:"512",min:"256",max:"2048",className:"input w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Page cache size"}),(0,s.jsxs)("select",{className:"input w-full",children:[(0,s.jsx)("option",{value:"5",children:"5 pages"}),(0,s.jsx)("option",{value:"10",children:"10 pages"}),(0,s.jsx)("option",{value:"20",children:"20 pages"}),(0,s.jsx)("option",{value:"50",children:"50 pages"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Hardware acceleration"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Use GPU for rendering when available"})]}),(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Developer"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Enable debug mode"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Show additional debugging information"})]}),(0,s.jsx)("input",{type:"checkbox",className:"toggle"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Show developer tools"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Enable access to browser developer tools"})]}),(0,s.jsx)("input",{type:"checkbox",className:"toggle"})]})]})]})]});return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a("settings")}),(0,s.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)("div",{className:"w-48 border-r border-gray-200 bg-gray-50",children:(0,s.jsx)("nav",{className:"p-4 space-y-1",children:u.map(e=>(0,s.jsx)("button",{onClick:()=>c(e.id),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat(i===e.id?"bg-adobe-blue text-white":"text-gray-700 hover:bg-gray-200"),children:e.label},e.id))})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(()=>{switch(i){case"general":default:return h();case"display":return p();case"editing":return g();case"security":return b();case"advanced":return j()}})()})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,s.jsx)("button",{onClick:o,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{o()},className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors",children:"Save Changes"})]})]})})}var e8=a(8641),te=a(3928);function tt(){let{state:e,dispatch:t}=(0,r.l)(),{dispatch:a}=(0,n.E)(),[i,c]=(0,l.useState)([]),[o,d]=(0,l.useState)("merged-document.pdf"),[m,x]=(0,l.useState)(!1);if(!e.modals.merge)return null;let h=()=>{t({type:"CLOSE_MODAL",payload:"merge"}),c([]),d("merged-document.pdf")},{getRootProps:p,getInputProps:g,isDragActive:b}=(0,e0.uI)({onDrop:e=>{let t=e.filter(e=>"application/pdf"===e.type);t.length!==e.length&&eQ.ZP.error("Only PDF files are allowed");let a=t.map(e=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:e.name,path:e.name,pages:Math.floor(50*Math.random())+1,size:(e.size/1024/1024).toFixed(2)+" MB"}));c(e=>[...e,...a])},accept:{"application/pdf":[".pdf"]},multiple:!0}),j=e=>{c(t=>t.filter(t=>t.id!==e))},f=(e,t)=>{c(a=>{let s=a.findIndex(t=>t.id===e);if(-1===s)return a;let l="up"===t?s-1:s+1;if(l<0||l>=a.length)return a;let n=[...a],[r]=n.splice(s,1);return n.splice(l,0,r),n})},y=async()=>{if(i.length<2){eQ.ZP.error("Please select at least 2 PDF files to merge");return}x(!0);try{await new Promise(e=>setTimeout(e,2e3)),eQ.ZP.success("PDFs merged successfully!"),h()}catch(e){eQ.ZP.error("Failed to merge PDFs")}finally{x(!1)}},v=i.reduce((e,t)=>e+t.pages,0),N=i.reduce((e,t)=>e+parseFloat(t.size.replace(" MB","")),0);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Merge PDFs"}),(0,s.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden p-6",children:[(0,s.jsxs)("div",{...p(),className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors mb-6 ".concat(b?"border-adobe-blue bg-adobe-blue/5":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)("input",{...g()}),(0,s.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:b?"Drop PDF files here":"Drag & drop PDF files here"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse files"}),(0,s.jsxs)("button",{className:"btn-primary",children:[(0,s.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),"Add Files"]})]}),i.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Files to Merge (",i.length,")"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[v," pages • ",N.toFixed(2)," MB"]})]}),(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:i.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"w-5 h-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.pages," pages • ",e.size]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>f(e.id,"up"),disabled:0===t,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:(0,s.jsx)(e8.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>f(e.id,"down"),disabled:t===i.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:(0,s.jsx)(te.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Remove file",children:(0,s.jsx)(eP.Z,{className:"w-4 h-4"})})]})]},e.id))})]}),i.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Output Settings"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output filename"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"input w-full",placeholder:"merged-document.pdf"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:i.length>0&&(0,s.jsxs)("span",{children:["Ready to merge ",i.length," files into ",o]})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:h,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:y,disabled:i.length<2||m,className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Merging...":"Merge PDFs"})]})]})]})})}var ta=a(5704);function ts(){let{state:e,dispatch:t}=(0,r.l)(),{dispatch:a}=(0,n.E)(),[i,c]=(0,l.useState)(null),[o,d]=(0,l.useState)(0),[m,x]=(0,l.useState)([]),[h,p]=(0,l.useState)("pages"),[g,b]=(0,l.useState)(1),[j,f]=(0,l.useState)(""),[y,v]=(0,l.useState)(!1);if(!e.modals.split)return null;let N=()=>{t({type:"CLOSE_MODAL",payload:"split"}),c(null),d(0),x([]),b(1),f("")},{getRootProps:w,getInputProps:k,isDragActive:C}=(0,e0.uI)({onDrop:e=>{let t=e.find(e=>"application/pdf"===e.type);if(!t){eQ.ZP.error("Please select a PDF file");return}if(e.length>1){eQ.ZP.error("Please select only one PDF file");return}c(t),d(Math.floor(50*Math.random())+10)},accept:{"application/pdf":[".pdf"]},multiple:!1}),D=(e,t,a)=>{x(s=>s.map(s=>s.id===e?{...s,[t]:a}:s))},P=e=>{x(t=>t.filter(t=>t.id!==e))},S=async()=>{if(!i){eQ.ZP.error("Please select a PDF file");return}v(!0);try{await new Promise(e=>setTimeout(e,2e3)),eQ.ZP.success("PDF split successfully!"),N()}catch(e){eQ.ZP.error("Failed to split PDF")}finally{v(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Split PDF"}),(0,s.jsx)("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:i?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"w-6 h-6 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:i.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[o," pages • ",(i.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,s.jsx)("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(G.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Split Method"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>p("pages"),className:"p-4 border rounded-lg text-center transition-colors ".concat("pages"===h?"border-adobe-blue bg-adobe-blue/5 text-adobe-blue":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)(ta.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,s.jsx)("p",{className:"font-medium",children:"By Pages"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Split every N pages"})]}),(0,s.jsxs)("button",{onClick:()=>p("ranges"),className:"p-4 border rounded-lg text-center transition-colors ".concat("ranges"===h?"border-adobe-blue bg-adobe-blue/5 text-adobe-blue":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)(el.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,s.jsx)("p",{className:"font-medium",children:"Custom Ranges"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Define page ranges"})]}),(0,s.jsxs)("button",{onClick:()=>p("extract"),className:"p-4 border rounded-lg text-center transition-colors ".concat("extract"===h?"border-adobe-blue bg-adobe-blue/5 text-adobe-blue":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,s.jsx)("p",{className:"font-medium",children:"Extract Pages"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Extract specific pages"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Configuration"}),"pages"===h&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pages per split"}),(0,s.jsx)("input",{type:"number",min:"1",max:o,value:g,onChange:e=>b(parseInt(e.target.value)||1),className:"input w-32"})]}),"ranges"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Define custom page ranges"}),(0,s.jsxs)("button",{onClick:()=>{let e={id:Date.now().toString(),name:"Split ".concat(m.length+1),startPage:1,endPage:o};x(t=>[...t,e])},className:"btn-secondary text-sm",children:[(0,s.jsx)(R.Z,{className:"w-4 h-4 mr-1"}),"Add Range"]})]}),m.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("input",{type:"text",value:e.name,onChange:t=>D(e.id,"name",t.target.value),className:"input flex-1",placeholder:"Split name"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",min:"1",max:o,value:e.startPage,onChange:t=>D(e.id,"startPage",parseInt(t.target.value)||1),className:"input w-20"}),(0,s.jsx)("span",{className:"text-gray-500",children:"to"}),(0,s.jsx)("input",{type:"number",min:"1",max:o,value:e.endPage,onChange:t=>D(e.id,"endPage",parseInt(t.target.value)||o),className:"input w-20"})]}),(0,s.jsx)("button",{onClick:()=>P(e.id),className:"text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.Z,{className:"w-4 h-4"})})]},e.id))]}),"extract"===h&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pages to extract (comma-separated)"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"input w-full",placeholder:"e.g., 1, 3, 5-8, 10"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Use commas to separate pages and hyphens for ranges"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Preview"}),(0,s.jsx)("p",{className:"text-sm text-blue-800",children:(()=>{if(!i||0===o)return"";switch(h){case"pages":let e=Math.ceil(o/g);return"Will create ".concat(e," files with ").concat(g," page(s) each");case"ranges":return"Will create ".concat(m.length," files based on custom ranges");case"extract":let t=j.split(",").filter(e=>e.trim()).length;return"Will extract ".concat(t," page(s) into separate files");default:return""}})()})]})]}):(0,s.jsxs)("div",{...w(),className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(C?"border-adobe-blue bg-adobe-blue/5":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)("input",{...k()}),(0,s.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:C?"Drop PDF file here":"Select PDF to split"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag & drop a PDF file or click to browse"}),(0,s.jsxs)("button",{className:"btn-primary",children:[(0,s.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),"Select File"]})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:i&&(0,s.jsxs)("span",{children:["Ready to split ",i.name]})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:N,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:S,disabled:!i||y,className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Splitting...":"Split PDF"})]})]})]})})}function tl(){let{state:e,dispatch:t}=(0,r.l)(),{state:a,dispatch:c}=(0,n.E)(),[o,d]=(0,l.useState)("draw"),[m,x]=(0,l.useState)([]),[u,h]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(""),[f,y]=(0,l.useState)("cursive"),v=(0,l.useRef)(null),N=(0,l.useRef)(null);if(!e.modals.sign)return null;let w=()=>{t({type:"CLOSE_MODAL",payload:"sign"}),d("draw"),h(null),j(""),C()},C=()=>{let e=v.current;if(e){let t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height)}},D=()=>{g(!1)},P=e=>{x(t=>t.filter(t=>t.id!==e)),u===e&&h(null),eQ.ZP.success("Signature deleted")},S=e=>{switch(e.type){case"draw":case"image":return(0,s.jsx)("img",{src:e.data,alt:e.name,className:"w-full h-16 object-contain bg-white border rounded"});case"type":return(0,s.jsx)("div",{className:"w-full h-16 flex items-center justify-center bg-white border rounded text-2xl ".concat("cursive"===f?"font-cursive":"script"===f?"font-script":"font-elegant"),style:{fontFamily:f},children:e.data});default:return null}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Sign Document"}),(0,s.jsx)("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,s.jsxs)("button",{onClick:()=>d("draw"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors ".concat("draw"===o?"border-adobe-blue text-adobe-blue":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 inline mr-2"}),"Draw"]}),(0,s.jsxs)("button",{onClick:()=>d("type"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors ".concat("type"===o?"border-adobe-blue text-adobe-blue":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,s.jsx)(eE.Z,{className:"w-4 h-4 inline mr-2"}),"Type"]}),(0,s.jsxs)("button",{onClick:()=>d("image"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors ".concat("image"===o?"border-adobe-blue text-adobe-blue":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),(0,s.jsxs)("button",{onClick:()=>d("saved"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors ".concat("saved"===o?"border-adobe-blue text-adobe-blue":"border-transparent text-gray-500 hover:text-gray-700"),children:["Saved (",m.length,")"]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["draw"===o&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Draw your signature in the box below"}),(0,s.jsx)("canvas",{ref:v,width:600,height:200,className:"border-2 border-gray-300 rounded-lg cursor-crosshair mx-auto",style:{touchAction:"none"},onMouseDown:e=>{g(!0);let t=v.current;if(t){let a=t.getBoundingClientRect(),s=t.getContext("2d");s&&(s.beginPath(),s.moveTo(e.clientX-a.left,e.clientY-a.top))}},onMouseMove:e=>{if(!p)return;let t=v.current;if(t){let a=t.getBoundingClientRect(),s=t.getContext("2d");s&&(s.lineTo(e.clientX-a.left,e.clientY-a.top),s.stroke())}},onMouseUp:D,onMouseLeave:D}),(0,s.jsxs)("div",{className:"flex justify-center space-x-3 mt-4",children:[(0,s.jsx)("button",{onClick:C,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear"}),(0,s.jsx)("button",{onClick:()=>{let e=v.current;if(e){let t=e.toDataURL(),a={id:Date.now().toString(),name:"Drawn Signature ".concat(m.filter(e=>"draw"===e.type).length+1),type:"draw",data:t,createdAt:new Date};x(e=>[...e,a]),eQ.ZP.success("Signature saved!"),C()}},className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors",children:"Save Signature"})]})]})}),"type"===o&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type your signature"}),(0,s.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),className:"input w-full text-2xl",placeholder:"Your Name",style:{fontFamily:f}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Style"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsx)("button",{onClick:()=>y("cursive"),className:"p-3 border rounded-lg text-center transition-colors ".concat("cursive"===f?"border-adobe-blue bg-adobe-blue/5":"border-gray-300 hover:border-gray-400"),children:(0,s.jsx)("span",{className:"text-xl",style:{fontFamily:"cursive"},children:"Cursive"})}),(0,s.jsx)("button",{onClick:()=>y("serif"),className:"p-3 border rounded-lg text-center transition-colors ".concat("serif"===f?"border-adobe-blue bg-adobe-blue/5":"border-gray-300 hover:border-gray-400"),children:(0,s.jsx)("span",{className:"text-xl",style:{fontFamily:"serif"},children:"Serif"})}),(0,s.jsx)("button",{onClick:()=>y("monospace"),className:"p-3 border rounded-lg text-center transition-colors ".concat("monospace"===f?"border-adobe-blue bg-adobe-blue/5":"border-gray-300 hover:border-gray-400"),children:(0,s.jsx)("span",{className:"text-xl",style:{fontFamily:"monospace"},children:"Mono"})})]})]}),b&&(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),(0,s.jsx)("div",{className:"text-3xl text-center py-4",style:{fontFamily:f},children:b})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:()=>{if(!b.trim()){eQ.ZP.error("Please enter your signature text");return}let e={id:Date.now().toString(),name:"Typed Signature: ".concat(b),type:"type",data:b,createdAt:new Date};x(t=>[...t,e]),eQ.ZP.success("Signature saved!"),j("")},disabled:!b.trim(),className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Signature"})})]}),"image"===o&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Upload an image of your signature"}),(0,s.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(!a.type.startsWith("image/")){eQ.ZP.error("Please select an image file");return}let e=new FileReader;e.onload=e=>{var t;let s=null===(t=e.target)||void 0===t?void 0:t.result,l={id:Date.now().toString(),name:"Image Signature: ".concat(a.name),type:"image",data:s,createdAt:new Date};x(e=>[...e,l]),eQ.ZP.success("Signature saved!")},e.readAsDataURL(a)}},className:"hidden"}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"px-6 py-3 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 inline mr-2"}),"Choose Image"]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Supported formats: JPG, PNG, GIF"})]})}),"saved"===o&&(0,s.jsx)("div",{className:"space-y-4",children:0===m.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-500",children:"No saved signatures yet"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Create signatures using the Draw, Type, or Upload tabs"})]}):(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:m.map(e=>(0,s.jsxs)("div",{className:"relative p-4 border-2 rounded-lg cursor-pointer transition-colors ".concat(u===e.id?"border-adobe-blue bg-adobe-blue/5":"border-gray-200 hover:border-gray-300"),onClick:()=>h(e.id),children:[u===e.id&&(0,s.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 bg-adobe-blue rounded-full flex items-center justify-center",children:(0,s.jsx)(ec.Z,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),P(e.id)},className:"absolute top-2 left-2 p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,s.jsx)(eP.Z,{className:"w-4 h-4"})}),(0,s.jsx)("div",{className:"mt-6",children:S(e)}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.createdAt.toLocaleDateString()})]})]},e.id))})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:u&&(0,s.jsx)("span",{children:"Signature selected and ready to apply"})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{if(!u){eQ.ZP.error("Please select a signature");return}m.find(e=>e.id===u)&&(eQ.ZP.success("Signature applied to document!"),w())},disabled:!u,className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Signature"})]})]})]})})}function tn(){let{state:e,dispatch:t}=(0,r.l)(),{state:a}=(0,n.E)(),[c,o]=(0,l.useState)({format:"pdf",quality:"high",pages:"all",pageRange:"",includeAnnotations:!0,includeComments:!0,includeBookmarks:!0,includeMetadata:!0,compression:!0,password:"",permissions:{print:!0,copy:!0,modify:!0,annotate:!0}}),[d,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1);if(!e.modals.export)return null;let h=()=>{t({type:"CLOSE_MODAL",payload:"export"}),u(!1)},p=(e,t)=>{o(a=>({...a,[e]:t}))},g=(e,t)=>{o(a=>({...a,permissions:{...a.permissions,[e]:t}}))},b=async()=>{if(!a.activeDocument){eQ.ZP.error("No document is currently open");return}if("range"===c.pages&&!c.pageRange.trim()){eQ.ZP.error("Please specify a page range");return}m(!0);try{await new Promise(e=>setTimeout(e,2e3)),eQ.ZP.success("Document exported as ".concat(c.format.toUpperCase(),"!")),h()}catch(e){eQ.ZP.error("Export failed")}finally{m(!1)}},j=e=>{switch(e){case"pdf":default:return(0,s.jsx)(z.Z,{className:"w-5 h-5"});case"png":case"jpg":case"svg":return(0,s.jsx)(i.Z,{className:"w-5 h-5"});case"docx":case"txt":return(0,s.jsx)(eE.Z,{className:"w-5 h-5"})}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Export Document"}),(0,s.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(G.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Format"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{format:"pdf",label:"PDF Document",desc:"Portable Document Format"},{format:"png",label:"PNG Images",desc:"High quality images"},{format:"jpg",label:"JPEG Images",desc:"Compressed images"},{format:"svg",label:"SVG Vector",desc:"Scalable vector graphics"},{format:"docx",label:"Word Document",desc:"Microsoft Word format"},{format:"txt",label:"Plain Text",desc:"Text content only"}].map(e=>{let{format:t,label:a,desc:l}=e;return(0,s.jsxs)("button",{onClick:()=>p("format",t),className:"p-4 border rounded-lg text-left transition-colors ".concat(c.format===t?"border-adobe-blue bg-adobe-blue/5 text-adobe-blue":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[j(t),(0,s.jsx)("span",{className:"font-medium",children:a})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:l})]},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pages to Export"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"pages",checked:"all"===c.pages,onChange:()=>p("pages","all"),className:"text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"All pages"}),a.activeDocument&&(0,s.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",a.activeDocument.pages.length," pages)"]})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"pages",checked:"current"===c.pages,onChange:()=>p("pages","current"),className:"text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Current page only"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"pages",checked:"range"===c.pages,onChange:()=>p("pages","range"),className:"text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Page range:"}),(0,s.jsx)("input",{type:"text",value:c.pageRange,onChange:e=>p("pageRange",e.target.value),placeholder:"e.g., 1-5, 8, 10-12",className:"ml-2 px-2 py-1 border border-gray-300 rounded text-sm flex-1 max-w-48",disabled:"range"!==c.pages})]})]})]}),["png","jpg"].includes(c.format)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Image Quality"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{value:"low",label:"Low",desc:"Smaller file"},{value:"medium",label:"Medium",desc:"Balanced"},{value:"high",label:"High",desc:"Good quality"},{value:"maximum",label:"Maximum",desc:"Best quality"}].map(e=>{let{value:t,label:a,desc:l}=e;return(0,s.jsxs)("button",{onClick:()=>p("quality",t),className:"p-3 border rounded-lg text-center transition-colors ".concat(c.quality===t?"border-adobe-blue bg-adobe-blue/5 text-adobe-blue":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)("div",{className:"font-medium",children:a}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:l})]},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Include in Export"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.includeAnnotations,onChange:e=>p("includeAnnotations",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Annotations"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.includeComments,onChange:e=>p("includeComments",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Comments"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.includeBookmarks,onChange:e=>p("includeBookmarks",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Bookmarks"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.includeMetadata,onChange:e=>p("includeMetadata",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Metadata"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>u(!x),className:"flex items-center space-x-2 text-adobe-blue hover:text-adobe-blue-dark transition-colors",children:[(0,s.jsx)(T.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Advanced Options"})]}),x&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.compression,onChange:e=>p("compression",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2",children:"Enable compression"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password protection (optional)"}),(0,s.jsx)("input",{type:"password",value:c.password,onChange:e=>p("password",e.target.value),className:"input w-full",placeholder:"Enter password to protect the exported file"})]}),"pdf"===c.format&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document permissions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.permissions.print,onChange:e=>g("print",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"Allow printing"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.permissions.copy,onChange:e=>g("copy",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"Allow copying"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.permissions.modify,onChange:e=>g("modify",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"Allow modifications"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:c.permissions.annotate,onChange:e=>g("annotate",e.target.checked),className:"rounded border-gray-300 text-adobe-blue focus:ring-adobe-blue"}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"Allow annotations"})]})]})]})]})]}),(0,s.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-blue-900",children:["Export as ",c.format.toUpperCase()]}),(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:["Estimated size: ",(()=>{if(!a.activeDocument)return"Unknown";let e={low:.5,medium:1,high:1.5,maximum:2.5}[c.quality],t={pdf:1,png:3,jpg:1.5,svg:.8,docx:.6,txt:.1}[c.format],s="current"===c.pages?1:"all"===c.pages?a.activeDocument.pages.length:"range"===c.pages?5:3;return"~".concat((2.5*e*t*(s/10)).toFixed(1)," MB")})()]})]}),(0,s.jsx)(eW.Z,{className:"w-8 h-8 text-blue-600"})]})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:a.activeDocument&&(0,s.jsxs)("span",{children:["Ready to export ",a.activeDocument.name]})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:h,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:b,disabled:!a.activeDocument||d,className:"px-4 py-2 bg-adobe-blue text-white rounded-lg hover:bg-adobe-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Exporting...":"Export"})]})]})]})})}function tr(){let{state:e,dispatch:t}=(0,n.E)(),{state:a,dispatch:i}=(0,r.l)(),[c,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(o(void 0!==window.electronAPI),!window.electronAPI&&0===e.documents.length){let e={id:"sample_doc",name:"Sample PDF",path:"/sample.pdf",pages:[],currentPage:1,zoom:1,annotations:[],isModified:!1,createdAt:new Date,modifiedAt:new Date};t({type:"ADD_DOCUMENT",payload:e}),t({type:"SET_ACTIVE_DOCUMENT",payload:e})}if(window.electronAPI){let{electronAPI:e}=window;return e.onMenuOpenFile(()=>d()),e.onMenuNewFile(()=>m()),e.onMenuSaveFile(()=>x()),e.onMenuSaveAsFile(()=>u()),e.onMenuMergePdfs(()=>i({type:"OPEN_MODAL",payload:"merge"})),e.onMenuSplitPdf(()=>i({type:"OPEN_MODAL",payload:"split"})),e.onMenuSignDocument(()=>i({type:"OPEN_MODAL",payload:"sign"})),e.onMenuShowAbout(()=>i({type:"OPEN_MODAL",payload:"about"})),()=>{e.removeAllListeners("menu-open-file"),e.removeAllListeners("menu-new-file"),e.removeAllListeners("menu-save-file"),e.removeAllListeners("menu-save-as-file"),e.removeAllListeners("menu-merge-pdfs"),e.removeAllListeners("menu-split-pdf"),e.removeAllListeners("menu-sign-document"),e.removeAllListeners("menu-show-about")}}},[]);let d=async()=>{if(!c||!window.electronAPI){eQ.Am.error("File operations are only available in the desktop app");return}try{let e=await window.electronAPI.openFileDialog({title:"Open PDF File",buttonLabel:"Open"});if(!e.canceled&&e.filePaths.length>0){let t=e.filePaths[0];await p(t)}}catch(e){console.error("Error opening file:",e),eQ.Am.error("Failed to open file")}},m=()=>{let e={id:"doc_".concat(Date.now()),name:"Untitled.pdf",pages:[],currentPage:1,zoom:1,annotations:[],isModified:!1,createdAt:new Date,modifiedAt:new Date};t({type:"ADD_DOCUMENT",payload:e}),t({type:"SET_ACTIVE_DOCUMENT",payload:e}),eQ.Am.success("New document created")},x=async()=>{if(!e.activeDocument){eQ.Am.error("No document to save");return}if(!c||!window.electronAPI){eQ.Am.error("Save operations are only available in the desktop app");return}try{e.activeDocument.path?(await g(e.activeDocument.path),eQ.Am.success("Document saved")):await u()}catch(e){console.error("Error saving file:",e),eQ.Am.error("Failed to save file")}},u=async()=>{if(!e.activeDocument){eQ.Am.error("No document to save");return}if(!c||!window.electronAPI){eQ.Am.error("Save operations are only available in the desktop app");return}try{let a=await window.electronAPI.saveFileDialog({title:"Save PDF File",defaultPath:e.activeDocument.name,buttonLabel:"Save"});!a.canceled&&a.filePath&&(await g(a.filePath),t({type:"UPDATE_DOCUMENT",payload:{id:e.activeDocument.id,path:a.filePath,name:window.electronAPI.path.basename(a.filePath)}}),eQ.Am.success("Document saved"))}catch(e){console.error("Error saving file:",e),eQ.Am.error("Failed to save file")}},p=async e=>{if(!window.electronAPI){eQ.Am.error("File operations are only available in the desktop app");return}t({type:"SET_LOADING",payload:!0});try{await window.electronAPI.fs.readFile(e);let a={id:"doc_".concat(Date.now()),name:window.electronAPI.path.basename(e),path:e,pages:[],currentPage:1,zoom:1,annotations:[],isModified:!1,createdAt:new Date,modifiedAt:new Date};t({type:"ADD_DOCUMENT",payload:a}),t({type:"SET_ACTIVE_DOCUMENT",payload:a}),t({type:"ADD_RECENT_FILE",payload:e}),t({type:"SET_LOADING",payload:!1}),eQ.Am.success("Opened ".concat(a.name))}catch(e){console.error("Error loading PDF:",e),t({type:"SET_ERROR",payload:"Failed to load PDF file"}),t({type:"SET_LOADING",payload:!1}),eQ.Am.error("Failed to load PDF file")}},g=async a=>{if(e.activeDocument){if(!window.electronAPI){eQ.Am.error("Save operations are only available in the desktop app");return}try{let s=new Uint8Array;await window.electronAPI.fs.writeFile(a,s),t({type:"UPDATE_DOCUMENT",payload:{id:e.activeDocument.id,isModified:!1}})}catch(e){throw console.error("Error saving PDF:",e),e}}};return(0,s.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[a.toolbarVisible&&(0,s.jsx)(Z,{onOpenFile:d,onNewFile:m,onSaveFile:x,onSaveAsFile:u}),(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[a.sidebarOpen&&(0,s.jsx)(h,{}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:e.activeDocument?(0,s.jsx)(e$,{document:e.activeDocument}):(0,s.jsx)(e4,{onOpenFile:d,onNewFile:m})})]}),a.modals.about&&(0,s.jsx)(e5,{}),a.modals.settings&&(0,s.jsx)(e9,{}),a.modals.merge&&(0,s.jsx)(tt,{}),a.modals.split&&(0,s.jsx)(ts,{}),a.modals.sign&&(0,s.jsx)(tl,{}),a.modals.export&&(0,s.jsx)(tn,{})]})}},2086:function(e,t,a){"use strict";a.d(t,{$:function(){return n}});var s=a(4336);let l={en:{welcome:"Welcome to PDF Vision",openFile:"Open File",newFile:"New File",recentFiles:"Recent Files",home:"Home",about:"About",general:"General",display:"Display",security:"Security",advanced:"Advanced",file:"File",edit:"Edit",view:"View",tools:"Tools",help:"Help",page:"Page",of:"of",zoom:"Zoom",tool:"Tool",annotations:"Annotations",modified:"Modified",select:"Select",hand:"Hand",text:"Text",highlight:"Highlight",note:"Note",drawing:"Drawing",signature:"Signature",settings:"Settings",theme:"Theme",light:"Light",dark:"Dark",auto:"Auto",language:"Language",application:"Application",defaultSettings:"Default Settings",interface:"Interface",editing:"Editing",autoSave:"Auto-save documents",autoBackup:"Auto-backup documents",defaultZoom:"Default zoom level",defaultPageLayout:"Default page layout",showToolbarLabels:"Show toolbar labels",compactSidebar:"Compact sidebar",uiScale:"UI scale",defaultHighlightColor:"Default highlight color",save:"Save",cancel:"Cancel",apply:"Apply",close:"Close",print:"Print",share:"Share",export:"Export",delete:"Delete",open:"Open",openPDF:"Open PDF",newDocument:"New Document",darkMode:"Dark Mode",lightMode:"Light Mode",selectLanguage:"Select Language",chooseLanguage:"Choose your preferred language",autoSaveDescription:"Automatically save changes every 5 minutes",autoBackupDescription:"Create automatic backups of documents",checkUpdates:"Check for updates",checkUpdatesDescription:"Automatically check for application updates",noDocumentSelected:"No document selected",documentLoaded:"Document loaded",documentSaved:"Document saved",errorLoadingDocument:"Error loading document",noDocuments:"No documents",loading:"Loading",error:"Error",welcomeDescription:"Professional PDF editing made simple. Create, edit, annotate, and manage your documents with ease.",dropPDFHere:"Drop PDF here",releaseToOpen:"Release to open the file",dragDropDescription:"Drag and drop a PDF file here, or click to browse",browseFiles:"Browse Files",createNewDescription:"Start with a blank document and build your PDF from scratch",recent:"Recent"},ar:{welcome:"مرحباً بك في رؤية PDF",openFile:"فتح ملف",newFile:"ملف جديد",recentFiles:"الملفات الحديثة",home:"الرئيسية",about:"حول",general:"عام",display:"العرض",security:"الأمان",advanced:"متقدم",file:"ملف",edit:"تحرير",view:"عرض",tools:"أدوات",help:"مساعدة",page:"صفحة",of:"من",zoom:"تكبير",tool:"أداة",annotations:"التعليقات التوضيحية",modified:"معدل",select:"تحديد",hand:"يد",text:"نص",highlight:"تمييز",note:"ملاحظة",drawing:"رسم",signature:"توقيع",settings:"الإعدادات",theme:"المظهر",light:"فاتح",dark:"داكن",auto:"تلقائي",language:"اللغة",application:"التطبيق",defaultSettings:"الإعدادات الافتراضية",interface:"الواجهة",editing:"التحرير",autoSave:"حفظ تلقائي للمستندات",autoBackup:"نسخ احتياطي تلقائي للمستندات",defaultZoom:"مستوى التكبير الافتراضي",defaultPageLayout:"تخطيط الصفحة الافتراضي",showToolbarLabels:"إظهار تسميات شريط الأدوات",compactSidebar:"شريط جانبي مضغوط",uiScale:"مقياس الواجهة",defaultHighlightColor:"لون التمييز الافتراضي",save:"حفظ",cancel:"إلغاء",apply:"تطبيق",close:"إغلاق",print:"طباعة",share:"مشاركة",export:"تصدير",delete:"حذف",open:"فتح",openPDF:"فتح PDF",newDocument:"مستند جديد",darkMode:"الوضع الداكن",lightMode:"الوضع الفاتح",selectLanguage:"اختيار اللغة",chooseLanguage:"اختر لغتك المفضلة",autoSaveDescription:"حفظ التغييرات تلقائياً كل 5 دقائق",autoBackupDescription:"إنشاء نسخ احتياطية تلقائية للمستندات",checkUpdates:"فحص التحديثات",checkUpdatesDescription:"فحص تحديثات التطبيق تلقائياً",noDocumentSelected:"لم يتم تحديد مستند",documentLoaded:"تم تحميل المستند",documentSaved:"تم حفظ المستند",errorLoadingDocument:"خطأ في تحميل المستند",noDocuments:"لا توجد مستندات",loading:"جاري التحميل",error:"خطأ",welcomeDescription:"تحرير ملفات PDF الاحترافي أصبح بسيطاً. أنشئ وحرر وأضف التعليقات وأدر مستنداتك بسهولة.",dropPDFHere:"اسقط ملف PDF هنا",releaseToOpen:"اتركه لفتح الملف",dragDropDescription:"اسحب وأسقط ملف PDF هنا، أو انقر للتصفح",browseFiles:"تصفح الملفات",createNewDescription:"ابدأ بمستند فارغ وأنشئ ملف PDF من الصفر",recent:"حديث"}};function n(){let{state:e}=(0,s.l)(),t=e.language,a=l[t]||l.en;return{t:e=>(l[t]||l.en)[e]||l.en[e]||e,language:t,translations:a,isRTL:"ar"===t}}},8771:function(e,t,a){"use strict";a.d(t,{B:function(){return c},E:function(){return o}});var s=a(7437),l=a(2265);let n={documents:[],activeDocument:null,recentFiles:[],isLoading:!1,error:null};function r(e,t){var a,s;switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"ADD_DOCUMENT":return{...e,documents:[...e.documents,t.payload],activeDocument:t.payload,isLoading:!1,error:null};case"REMOVE_DOCUMENT":let l=e.documents.filter(e=>e.id!==t.payload);return{...e,documents:l,activeDocument:(null===(a=e.activeDocument)||void 0===a?void 0:a.id)===t.payload?l[0]||null:e.activeDocument};case"SET_ACTIVE_DOCUMENT":return{...e,activeDocument:t.payload};case"UPDATE_DOCUMENT":return{...e,documents:e.documents.map(e=>e.id===t.payload.id?{...e,...t.payload,modifiedAt:new Date,isModified:!0}:e),activeDocument:(null===(s=e.activeDocument)||void 0===s?void 0:s.id)===t.payload.id?{...e.activeDocument,...t.payload,modifiedAt:new Date,isModified:!0}:e.activeDocument};case"SET_CURRENT_PAGE":if(!e.activeDocument)return e;return{...e,activeDocument:{...e.activeDocument,currentPage:t.payload}};case"SET_ZOOM":if(!e.activeDocument)return e;return{...e,activeDocument:{...e.activeDocument,zoom:t.payload}};case"ADD_ANNOTATION":if(!e.activeDocument)return e;return{...e,activeDocument:{...e.activeDocument,annotations:[...e.activeDocument.annotations,t.payload],isModified:!0,modifiedAt:new Date}};case"REMOVE_ANNOTATION":if(!e.activeDocument)return e;return{...e,activeDocument:{...e.activeDocument,annotations:e.activeDocument.annotations.filter(e=>e.id!==t.payload),isModified:!0,modifiedAt:new Date}};case"UPDATE_ANNOTATION":if(!e.activeDocument)return e;return{...e,activeDocument:{...e.activeDocument,annotations:e.activeDocument.annotations.map(e=>e.id===t.payload.id?{...e,...t.payload}:e),isModified:!0,modifiedAt:new Date}};case"ADD_RECENT_FILE":let n=[t.payload,...e.recentFiles.filter(e=>e!==t.payload)].slice(0,10);return{...e,recentFiles:n};case"CLEAR_RECENT_FILES":return{...e,recentFiles:[]};default:return e}}let i=(0,l.createContext)(null);function c(e){let{children:t}=e,[a,c]=(0,l.useReducer)(r,n);return(0,s.jsx)(i.Provider,{value:{state:a,dispatch:c},children:t})}function o(){let e=(0,l.useContext)(i);if(!e)throw Error("usePDF must be used within a PDFProvider");return e}},4336:function(e,t,a){"use strict";a.d(t,{J:function(){return c},l:function(){return o}});var s=a(7437),l=a(2265);let n={sidebarOpen:!0,sidebarTab:"thumbnails",toolbarVisible:!0,activeTool:"select",showGrid:!1,showRulers:!1,theme:"light",language:"en",recentColors:["#ffeb3b","#4caf50","#2196f3","#f44336","#9c27b0"],shortcuts:{"ctrl+o":"open","ctrl+s":"save","ctrl+n":"new","ctrl+z":"undo","ctrl+y":"redo","ctrl+c":"copy","ctrl+v":"paste","ctrl+a":"selectAll","ctrl+f":"find","ctrl+g":"findNext",escape:"deselect"},preferences:{autoSave:!0,autoBackup:!0,defaultZoom:100,pageLayout:"continuous",scrollDirection:"vertical",showToolbarLabels:!0,compactSidebar:!1,uiScale:100,defaultHighlightColor:"#fbbf24"},modals:{about:!1,settings:!1,help:!1,merge:!1,split:!1,sign:!1,export:!1,search:!1},notifications:[]};function r(e,t){switch(t.type){case"TOGGLE_SIDEBAR":return{...e,sidebarOpen:!e.sidebarOpen};case"SET_SIDEBAR_OPEN":return{...e,sidebarOpen:t.payload};case"SET_SIDEBAR_TAB":return{...e,sidebarTab:t.payload};case"SET_TOOLBAR_VISIBLE":return{...e,toolbarVisible:t.payload};case"SET_ACTIVE_TOOL":return{...e,activeTool:t.payload};case"TOGGLE_GRID":return{...e,showGrid:!e.showGrid};case"TOGGLE_RULERS":return{...e,showRulers:!e.showRulers};case"SET_THEME":return{...e,theme:t.payload};case"SET_LANGUAGE":return{...e,language:t.payload};case"ADD_RECENT_COLOR":let a=[t.payload,...e.recentColors.filter(e=>e!==t.payload)].slice(0,10);return{...e,recentColors:a};case"UPDATE_PREFERENCES":return{...e,preferences:{...e.preferences,...t.payload}};case"OPEN_MODAL":return{...e,modals:{...e.modals,[t.payload]:!0}};case"CLOSE_MODAL":return{...e,modals:{...e.modals,[t.payload]:!1}};case"CLOSE_ALL_MODALS":return{...e,modals:Object.keys(e.modals).reduce((e,t)=>({...e,[t]:!1}),{})};case"ADD_NOTIFICATION":return{...e,notifications:[...e.notifications,t.payload]};case"REMOVE_NOTIFICATION":return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload)};case"CLEAR_NOTIFICATIONS":return{...e,notifications:[]};default:return e}}let i=(0,l.createContext)(null);function c(e){let{children:t}=e,[a,c]=(0,l.useReducer)(r,n);return(0,s.jsx)(i.Provider,{value:{state:a,dispatch:c},children:t})}function o(){let e=(0,l.useContext)(i);if(!e)throw Error("useUI must be used within a UIProvider");return e}}},function(e){e.O(0,[651,64,751,971,117,744],function(){return e(e.s=1860)}),_N_E=e.O()}]);